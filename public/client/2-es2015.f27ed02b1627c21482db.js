(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/RwR":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("0IaG"),s=i("fXoL"),a=i("VaLf"),o=i("kmQS"),r=i("NFeN"),c=i("ofXK"),l=i("bTqV");function h(t,e){if(1&t&&(s.Ub(0,"p",9),s.Kc(1),s.Tb()),2&t){const t=s.fc();s.Bb(1),s.Lc(t.data.bodyBold)}}let d=(()=>{class t{constructor(t,e,i,n){this.dialogRef=t,this.data=e,this.i18n=i,this.settings=n}ngOnInit(){this.data.ok||(this.data.ok="Confirm"),this.data.cancel||(this.data.cancel="Cancel");for(const t in this.data)"string"==typeof this.data[t]&&(this.data[t]=this.i18n.t(this.data[t],this.data.replacements))}confirm(){this.dialogRef.close(!0)}close(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(n.h),s.Ob(n.a),s.Ob(a.a),s.Ob(o.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["confirm-modal"]],decls:14,vars:5,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["mat-dialog-content","",1,"mat-dialog-contents"],["class","bold",4,"ngIf"],["mat-dialog-actions","",1,"buttons","right","mat-dialog-actions"],["type","button","mat-button","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","cdkFocusInitial","",1,"button","primary","submit-button",3,"click"],[1,"bold"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"h2",1),s.Kc(2),s.Tb(),s.Ub(3,"button",2),s.bc("click",(function(){return e.close()})),s.Pb(4,"mat-icon",3),s.Tb(),s.Tb(),s.Ub(5,"div",4),s.Ub(6,"p"),s.Kc(7),s.Tb(),s.Ic(8,h,2,1,"p",5),s.Tb(),s.Ub(9,"div",6),s.Ub(10,"button",7),s.bc("click",(function(){return e.close()})),s.Kc(11),s.Tb(),s.Ub(12,"button",8),s.bc("click",(function(){return e.confirm()})),s.Kc(13),s.Tb(),s.Tb()),2&t&&(s.Bb(2),s.Lc(e.data.title),s.Bb(5),s.Lc(e.data.body),s.Bb(1),s.nc("ngIf",e.data.bodyBold),s.Bb(3),s.Lc(e.data.cancel),s.Bb(2),s.Lc(e.data.ok))},directives:[n.i,r.a,n.f,c.t,n.c,l.b],styles:["[_nghost-%COMP%]{display:block;max-width:500px}.modal-header[_ngcontent-%COMP%]{margin-bottom:10px}.bold[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%]{font-size:1.5rem}"],changeDetection:0}),t})()},"/w9p":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n=new(i("fXoL").r)("PREVIEW_URL_TRANSFORMER",{factory:()=>t=>t.url,providedIn:"root"})},"0Gur":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("ofXK"),s=i("A5z7"),a=i("NFeN"),o=i("3Pt+"),r=i("6rvT"),c=i("/1cH"),l=i("bTqV"),h=i("FKr1"),d=i("fXoL");let u=(()=>{class t{}return t.\u0275mod=d.Mb({type:t}),t.\u0275inj=d.Lb({factory:function(e){return new(e||t)},imports:[[n.c,s.g,c.b,o.E,r.a,l.c,a.b,h.r]]}),t})()},"1ImS":function(t,e,i){"use strict";i.d(e,"a",(function(){return b}));var n=i("ofXK"),s=i("NFeN"),a=i("6rvT"),o=i("bSwM"),r=i("3Pt+"),c=i("bTqV"),l=i("A5z7"),h=i("bv9b"),d=i("0Gur"),u=i("Iysn"),p=i("fXoL");let b=(()=>{class t{}return t.\u0275mod=p.Mb({type:t}),t.\u0275inj=p.Lb({factory:function(e){return new(e||t)},imports:[[n.c,a.a,r.E,r.o,d.a,u.a,c.c,s.b,o.b,l.g,h.b],o.b]}),t})()},"2hX1":function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n=i("2Vo4"),s=i("itXk"),a=i("re4b"),o=i("Kj3r"),r=i("lJxs"),c=i("Zy1z"),l=i("pLZG"),h=i("vkgz"),d=i("F96W"),u=i("/RwR");const p={title:"Delete :resource",body:"Are you sure you want to delete selected :resource?",ok:"Delete"};var b=i("hLX6"),g=i("8LU1");function m(t,e){const i=b.pick(e,t);if(Object(g.a)(i)){const t=Number(i);return t<9007199254740991?t:i}return i}var f=i("fXoL"),v=i("QGXG"),w=i("tyNb"),_=i("LRXf"),x=i("ahrr");let y=(()=>{class t{constructor(t,e,i,s){this.modal=t,this.router=e,this.http=i,this.localStorage=s,this.sort$=new n.a({}),this.filters$=new n.a({}),this.staticParams$=new n.a({}),this.paginator=new a.a(this.router,this.http,this.localStorage),this.ignoreNextParamChange=!1,this.originalData$=new n.a([]),this.data$=new n.a([]),this.selectedRows$=new n.a([])}get data(){return this.data$.value}set data(t){const e=[...t];this.originalData$.next(e),this.data$.next(e),this.ignoreNextParamChange=!0,this.reset()}init(t={}){return this.config=t,this.staticParams$.next(Object.assign(Object.assign({},this.staticParams$.value),t.staticParams)),t.uri?this.connectToPaginator():t.initialData&&(this.data=t.initialData),this.mainSub=Object(s.a)([this.sort$,this.filters$,this.staticParams$]).pipe(Object(o.a)(0),Object(r.a)(t=>Object.assign({},...t))).subscribe(t=>{if(this.ignoreNextParamChange)return this.ignoreNextParamChange=!1;t=Object(d.a)(t),Object.entries(t).forEach(([e,i])=>{"object"==typeof i&&i.id&&(t[e+"Id"]=i.id,delete t[e])}),this.config.uri?this.paginator.paginate(t,this.config.uri,this.config.initialData):Object.keys(t).length&&this.data.length&&this.applyLocalTransforms(t)}),this}connectToPaginator(){this.paginatorSub=this.paginator.response$.pipe(Object(c.a)()).subscribe(([t,e])=>{var i;const n=this.config.infiniteScroll&&(null===(i=null==t?void 0:t.pagination)||void 0===i?void 0:i.current_page)!==e.pagination.current_page?[...this.data$.value,...e.pagination.data]:e.pagination.data;this.data$.next(n)})}applyLocalTransforms(t){let e=[...this.originalData$.value];t.query&&(e=function(t,e){return t.filter(t=>function(t,e){const i=function t(e){return Object.keys(e).reduce((i,n)=>i+(e[n]&&"object"==typeof e[n]?t(e[n]):e[n])+"\u25ec","").toLowerCase()}(t),n=e.trim().toLowerCase();return-1!==i.indexOf(n)}(t,e))}(e,t.query)),t.orderBy&&t.orderDir&&(e=function(t,e,i){return t.sort((t,n)=>{let s=m(t,e),a=m(n,e);const o=typeof s,r=typeof a;o!==r&&("number"===o&&(s+=""),"number"===r&&(a+=""));let c=0;return null!=s&&null!=a?s>a?c=1:s<a&&(c=-1):null!=s?c=1:null!=a&&(c=-1),c*("asc"===i?1:-1)})}(e,t.orderBy,t.orderDir)),this.data$.next(e)}addFilter(t,e){this.filters$.next(Object.assign(Object.assign({},this.filters$.value),{[t]:e}))}removeFilter(t){const e=Object.assign({},this.filters$.value);delete e[t],this.filters$.next(e)}reset(t=null){this.filters$.next({}),this.sort$.next({}),this.selectedRows$.next([]),t&&this.staticParams$.next(t)}openCrupdateResourceModal(t,e,i){return this.modal.open(t,e,i).beforeClosed().pipe(Object(l.a)(t=>!!t),Object(h.a)(()=>this.reset()))}confirmResourceDeletion(t){const e=Object.assign(Object.assign({},p),{replacements:{resource:t}});return this.modal.open(u.a,e).afterClosed().pipe(Object(l.a)(t=>t))}getCurrentParams(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.sort$.value),this.filters$.value),this.staticParams$.value),this.paginator.params)}destroy(){var t,e;null===(t=this.paginatorSub)||void 0===t||t.unsubscribe(),null===(e=this.mainSub)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(f.Yb(v.a),f.Yb(w.f),f.Yb(_.a),f.Yb(x.a))},t.\u0275prov=f.Kb({token:t,factory:t.\u0275fac}),t})()},"6SKC":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("4Ait"),s=i("fXoL");let a=(()=>{class t{transform(t=0,e){return isNaN(parseFloat(String(t)))||!isFinite(t)?"-":Object(n.a)(t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Nb({name:"formattedFileSize",type:t,pure:!0}),t})()},"7LS1":function(t,e,i){"use strict";i.d(e,"a",(function(){return u}));var n=i("2Vo4"),s=i("XNiG"),a=i("vUXK"),o=i("+rOU"),r=i("itxp"),c=i("ZiO8"),l=i("pLZG"),h=i("/w9p"),d=i("fXoL");let u=(()=>{class t{constructor(t,e){this.availablePreviews=t,this.injector=e,this.files=[],this.portal=new n.a(null),this.meta=new n.a({}),this.previewUriTransformer=null,this.download=new s.a}pagination(){return this.meta.pipe(Object(l.a)(t=>t&&!!t.entry))}getCurrent(){return this.meta.value.entry}getAllEntries(){return this.files}getPortal(){return this.portal.asObservable()}showNext(){this.meta.value.haveNext&&(this.updateMeta("next"),this.updatePortal())}showPrevious(){this.meta.value.havePrevious&&(this.updateMeta("previous"),this.updatePortal())}updateMeta(t){let e=0;if("string"==typeof t){const i=this.meta.value.pointer;e="next"===t?i+1:i-1}else"number"==typeof t&&(e=t);this.meta.next({pointer:e,entry:this.files[e],total:this.files.length,haveNext:e+1<this.files.length,havePrevious:e-1>-1})}updatePortal(){const t=this.getCurrent();this.portal.next(new o.d(t&&this.availablePreviews[t.type]||c.a,null,this.createInjector()))}set(t,e){t&&0!==t.length&&(this.files=t.filter(t=>"folder"!==t.type),this.updateMeta(e),this.updatePortal())}createInjector(){const t=new WeakMap;return t.set(r.a,this.getCurrent()),this.previewUriTransformer&&t.set(h.a,this.previewUriTransformer),new o.g(this.injector,t)}destroy(){this.meta.next({}),this.files=null,this.portal.next(null)}setPreviewUriTransformer(t){this.previewUriTransformer=t}}return t.\u0275fac=function(e){return new(e||t)(d.Yb(a.a),d.Yb(d.s))},t.\u0275prov=d.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"83jf":function(t,e,i){"use strict";i.d(e,"a",(function(){return U}));var n=i("fXoL"),s=i("nPOm"),a=i("tTc1"),o=i("ZfYz"),r=i("7LS1"),c=i("kmQS"),l=i("ofXK"),h=i("bTqV"),d=i("NFeN");function u(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",3),n.bc("click",(function(){return n.zc(t),n.fc().closed.emit(!0)})),n.Pb(1,"mat-icon",4),n.Tb()}}function p(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"div",9),n.Ub(2,"button",10),n.bc("click",(function(){return n.zc(t),n.fc(2).previewFiles.showPrevious()})),n.Pb(3,"mat-icon",11),n.Tb(),n.Ub(4,"span",12),n.Kc(5),n.Tb(),n.Ub(6,"button",13),n.bc("click",(function(){return n.zc(t),n.fc(2).previewFiles.showNext()})),n.Pb(7,"mat-icon",14),n.Tb(),n.Tb(),n.Rb()}if(2&t){const t=e.ngIf;n.Bb(2),n.nc("disabled",!t.havePrevious),n.Bb(3),n.Nc("",t.pointer+1," of ",t.total,""),n.Bb(1),n.nc("disabled",!t.haveNext)}}function b(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ub(1,"div",5),n.Kc(2),n.Tb(),n.Ic(3,p,8,4,"ng-container",1),n.gc(4,"async"),n.Ub(5,"div",6),n.Ub(6,"button",7),n.bc("click",(function(){return n.zc(t),n.fc().downloadFiles()})),n.Pb(7,"mat-icon",8),n.Tb(),n.lc(8),n.Tb(),n.Rb()}if(2&t){const t=e.ngIf,i=n.fc();n.Bb(2),n.Mc(" ",t.entry.name," "),n.Bb(1),n.nc("ngIf",n.hc(4,3,i.previewFiles.pagination())),n.Bb(3),n.nc("disabled",i.disableDownload)}}function g(t,e){if(1&t&&n.Pb(0,"img",17),2&t){const t=n.fc(2);n.nc("src",t.settings.getBaseUrl(!0)+t.settings.get("branding.logo_light"),n.Cc)}}function m(t,e){if(1&t&&(n.Ub(0,"a",15),n.Ic(1,g,1,1,"img",16),n.Tb()),2&t){const t=n.fc();n.Bb(1),n.nc("ngIf",t.showLogo&&t.settings.get("branding.logo_light"))}}const f=["*"];let v=(()=>{class t{constructor(t,e){this.previewFiles=t,this.settings=e,this.showLogo=!1,this.disableDownload=!1,this.showCloseButton=!1,this.closed=new n.n}downloadFiles(){this.previewFiles.download.next()}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(r.a),n.Ob(c.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["file-preview-toolbar"]],inputs:{showLogo:"showLogo",disableDownload:"disableDownload",showCloseButton:"showCloseButton"},outputs:{closed:"closed"},ngContentSelectors:f,decls:4,vars:5,consts:[["mat-icon-button","","class","back-button",3,"click",4,"ngIf"],[4,"ngIf"],["routerLink","/drive","class","logo",4,"ngIf"],["mat-icon-button","",1,"back-button",3,"click"],["svgIcon","arrow-back"],[1,"entry-name"],[1,"actions"],["mat-icon-button","",3,"disabled","click"],["svgIcon","file-download"],[1,"navigation"],["mat-icon-button","",1,"previous",3,"disabled","click"],["svgIcon","keyboard-arrow-left"],[1,"meta"],["mat-icon-button","",1,"next",3,"disabled","click"],["svgIcon","keyboard-arrow-right"],["routerLink","/drive",1,"logo"],[3,"src",4,"ngIf"],[3,"src"]],template:function(t,e){1&t&&(n.mc(),n.Ic(0,u,2,0,"button",0),n.Ic(1,b,9,5,"ng-container",1),n.gc(2,"async"),n.Ic(3,m,2,1,"a",2)),2&t&&(n.nc("ngIf",e.showCloseButton),n.Bb(1),n.nc("ngIf",n.hc(2,3,e.previewFiles.pagination())),n.Bb(2),n.nc("ngIf",e.showLogo&&e.settings.has("branding.logo_light")))},directives:[l.t,h.b,d.a],pipes:[l.b],styles:["file-preview-toolbar{position:fixed;top:0;left:0;display:flex;width:100%;align-items:center;color:var(--be-accent-contrast);height:60px;padding:0 15px;background:linear-gradient(180deg,rgba(0,0,0,.65) 0,transparent);z-index:10}@media only screen and (max-width:550px){file-preview-toolbar{padding:0 5px}}file-preview-toolbar .entry-name{display:block;margin-right:25px;margin-left:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media only screen and (min-width:550px){file-preview-toolbar .entry-name{max-width:calc(50% - 77.5px)}}file-preview-toolbar .entry-name file-icon{display:inline-block;vertical-align:bottom;margin-right:5px}@media only screen and (min-width:550px){file-preview-toolbar .navigation{position:absolute;left:50%;top:50%;margin-right:-50%;transform:translate(-50%,-50%)}}@media only screen and (max-width:550px){file-preview-toolbar .navigation{position:fixed;bottom:10px;left:5px}}file-preview-toolbar .actions{margin-left:auto;white-space:nowrap}file-preview-toolbar .actions a,file-preview-toolbar .actions button{margin:0 5px}file-preview-toolbar .close-button{margin-right:25px}file-preview-toolbar .logo{position:fixed;bottom:15px;right:15px;opacity:.2;width:150px;height:auto}file-preview-toolbar .logo img{width:100%;height:auto}file-preview-toolbar .mat-icon-button[disabled][disabled]{color:#737373}"],encapsulation:2,changeDetection:0}),t})();var w=i("ovFL");const _=["previewContainer"],x=["moreOptionsButton"];let y=(()=>{class t{constructor(t,e,i,n,s){this.el=t,this.overlayRef=e,this.previewFiles=i,this.settings=n,this.data=s,this.entries=[],this.entries=s.entries}ngOnInit(){this.data.ticketEntry&&this.previewFiles.setPreviewUriTransformer(this.urlTransformer.bind(this))}ngAfterViewInit(){this.bindToDownload(),this.previewContainer.nativeElement.addEventListener("click",t=>{t.target.closest(".preview-object")||this.overlayRef.close()})}ngOnDestroy(){this.downloadSub.unsubscribe()}closeOverlay(){this.overlayRef.close()}bindToDownload(){this.downloadSub=this.previewFiles.download.subscribe(()=>{const t=this.previewFiles.getAllEntries();this.downloadFile(t)})}downloadFile(t){const e=t.map(t=>t.hash).join(",");let i=`${this.settings.getBaseUrl()}secure/uploads/download?hashes=${e}`;this.data.ticketEntry&&(i+="&ticketEntry=true"),Object(a.a)(i)}urlTransformer(t){return t.url+"?ticketEntry=true"}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(n.l),n.Ob(o.a),n.Ob(r.a),n.Ob(c.a),n.Ob(s.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["file-preview-overlay"]],viewQuery:function(t,e){var i;1&t&&(n.Gc(_,!0,n.l),n.Rc(x,!0,n.l)),2&t&&(n.vc(i=n.cc())&&(e.previewContainer=i.first),n.vc(i=n.cc())&&(e.optionsButton=i.first))},decls:3,vars:2,consts:[[3,"showCloseButton","closed"],[3,"files"],["previewContainer",""]],template:function(t,e){1&t&&(n.Ub(0,"file-preview-toolbar",0),n.bc("closed",(function(){return e.closeOverlay()})),n.Tb(),n.Pb(1,"preview-container",1,2)),2&t&&(n.nc("showCloseButton",!0),n.Bb(1),n.nc("files",e.entries))},directives:[v,w.a],styles:["[_nghost-%COMP%]{display:block;width:100vw;height:100vh;background-color:rgba(0,0,0,.9);color:var(--be-accent-contrast);overflow:auto;position:relative}preview-container[_ngcontent-%COMP%]{margin:60px 0;min-height:calc(100% - 120px)}"],changeDetection:0}),t})(),C=(()=>{class t{constructor(){this.iconsMap={text:"insert-drive-file",audio:"volume-up",video:"videocam",document:"assignment",image:"image"}}getFileType(t){return t.split("/")[0]}getIconName(t){const e=this.getFileType(t);return this.iconsMap[e]||this.iconsMap.text}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var I=i("dz5c"),k=i("h586"),O=i("6SKC");function P(t,e){if(1&t){const t=n.Vb();n.Ub(0,"button",6),n.bc("click",(function(e){n.zc(t);const i=n.fc().$implicit;return n.fc().detachEntry(i),e.stopPropagation()})),n.Pb(1,"mat-icon",7),n.Tb()}}function T(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",1),n.bc("click",(function(){n.zc(t);const i=e.$implicit;return n.fc().showPreviewOverlay(i)})),n.Pb(1,"mat-icon",2),n.Ub(2,"div",3),n.Kc(3),n.Tb(),n.Ub(4,"div",4),n.Kc(5),n.gc(6,"formattedFileSize"),n.Tb(),n.Ic(7,P,2,0,"button",5),n.Tb()}if(2&t){const t=e.$implicit,i=n.fc();n.Bb(1),n.nc("svgIcon",i.mime.getIconName(t.mime))("ngClass",i.mime.getIconName(t.mime)),n.Bb(2),n.Lc(t.name),n.Bb(2),n.Lc(n.hc(6,5,t.file_size)),n.Bb(2),n.nc("ngIf",i.cancelButtonVisible)}}let U=(()=>{class t{constructor(t,e,i){this.mime=t,this.overlay=e,this.uploadQueue=i,this.cancelButtonVisible=!0,this.detached=new n.n}detachEntry(t){const e=this.attachments.findIndex(e=>e.id===t.id);e>-1&&(this.attachments.splice(e,1),this.detached.emit(t))}showPreviewOverlay(t){this.overlay.open(y,{position:"center",origin:"global",data:{entries:[t],ticketEntry:!0}})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(C),n.Ob(I.a),n.Ob(k.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["reply-attachment-list"]],inputs:{attachments:"attachments",cancelButtonVisible:"cancelButtonVisible"},outputs:{detached:"detached"},decls:1,vars:1,consts:[["class","attachments-list-item",3,"click",4,"ngFor","ngForOf"],[1,"attachments-list-item",3,"click"],[1,"attachment-info","type-icon",3,"svgIcon","ngClass"],[1,"attachment-info","name"],[1,"attachment-info","size"],["class","remove-attachment","type","button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",1,"remove-attachment",3,"click"],["svgIcon","close"]],template:function(t,e){1&t&&n.Ic(0,T,8,7,"div",0),2&t&&n.nc("ngForOf",e.attachments)},directives:[l.s,d.a,l.q,l.t,h.b],pipes:[O.a],styles:["reply-attachment-list{display:flex;flex-wrap:wrap;color:var(--be-secondary-text)}reply-attachment-list .attachments-list-item{border:1px solid var(--be-divider-default);margin:0 10px 10px 0;position:relative;height:45px;line-height:45px;border-radius:3px;flex:0 1 auto;min-width:200px;padding:0 8px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}reply-attachment-list .attachments-list-item .attachment-info{display:inline-block;vertical-align:middle}reply-attachment-list .attachments-list-item .attachment-info svg{vertical-align:top}reply-attachment-list .attachments-list-item .attachment-info.name{max-width:115px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500}reply-attachment-list .attachments-list-item .attachment-info.type-icon{margin-right:3px}reply-attachment-list .attachments-list-item .attachment-info.type-icon.image,reply-attachment-list .attachments-list-item .attachment-info.type-icon.videocam,reply-attachment-list .attachments-list-item .attachment-info.type-icon.volume-up{color:#db4437}reply-attachment-list .attachments-list-item .attachment-info.type-icon.insert-drive-file{color:#4285f4}reply-attachment-list .attachments-list-item .attachment-info.type-icon.assignment{color:#0f9d58}reply-attachment-list .attachments-list-item .size{font-size:1.1rem;margin:0 10px 0 5px}"],encapsulation:2,changeDetection:0}),t})()},A5z7:function(t,e,i){"use strict";i.d(e,"a",(function(){return k})),i.d(e,"b",(function(){return C})),i.d(e,"c",(function(){return B})),i.d(e,"d",(function(){return F})),i.d(e,"e",(function(){return O})),i.d(e,"f",(function(){return I})),i.d(e,"g",(function(){return j}));var n=i("FtGj"),s=i("fXoL"),a=i("FKr1"),o=i("ofXK"),r=i("8LU1"),c=i("XNiG"),l=i("VRyK"),h=i("IzEk"),d=i("1G5W"),u=i("JX91"),p=i("R1ws"),b=i("u47x"),g=i("0EQZ"),m=i("kmnG"),f=i("nLfN"),v=i("cH1L"),w=i("3Pt+");const _=["*"];class x{constructor(t){this._elementRef=t}}const y=Object(a.z)(Object(a.v)(Object(a.w)(x),"primary"),-1);let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Jb({type:t,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:[1,"mat-chip-avatar"]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.Jb({type:t,selectors:[["mat-chip-trailing-icon"],["","matChipTrailingIcon",""]],hostAttrs:[1,"mat-chip-trailing-icon"]}),t})(),k=(()=>{class t extends y{constructor(t,e,i,n,o,r,l,h){super(t),this._elementRef=t,this._ngZone=e,this._changeDetectorRef=r,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new c.a,this._onBlur=new c.a,this.selectionChange=new s.n,this.destroyed=new s.n,this.removed=new s.n,this._addHostClassName(),this._chipRippleTarget=(h||document).createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new a.s(this,e,this._chipRippleTarget,i),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=n||{},this._animationsDisabled="NoopAnimations"===o,this.tabIndex=null!=l&&parseInt(l)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const e=Object(r.c)(t);e!==this._selected&&(this._selected=e,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=Object(r.c)(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=Object(r.c)(t)}get removable(){return this._removable}set removable(t){this._removable=Object(r.c)(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t=this._elementRef.nativeElement;t.hasAttribute("mat-basic-chip")||"mat-basic-chip"===t.tagName.toLowerCase()?t.classList.add("mat-basic-chip"):t.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled?t.preventDefault():t.stopPropagation()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case n.e:case n.c:this.remove(),t.preventDefault();break;case n.v:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.asObservable().pipe(Object(h.a)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}_markForCheck(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.l),s.Ob(s.A),s.Ob(f.a),s.Ob(a.f,8),s.Ob(p.a,8),s.Ob(s.h),s.Zb("tabindex"),s.Ob(o.e,8))},t.\u0275dir=s.Jb({type:t,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,e,i){var n;1&t&&(s.Hb(i,C,!0),s.Hb(i,I,!0),s.Hb(i,O,!0)),2&t&&(s.vc(n=s.cc())&&(e.avatar=n.first),s.vc(n=s.cc())&&(e.trailingIcon=n.first),s.vc(n=s.cc())&&(e.removeIcon=n.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,e){1&t&&s.bc("click",(function(t){return e._handleClick(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()})),2&t&&(s.Cb("tabindex",e.disabled?null:e.tabIndex)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString())("aria-selected",e.ariaSelected),s.Fb("mat-chip-selected",e.selected)("mat-chip-with-avatar",e.avatar)("mat-chip-with-trailing-icon",e.trailingIcon||e.removeIcon)("mat-chip-disabled",e.disabled)("_mat-animation-noopable",e._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[s.yb]}),t})(),O=(()=>{class t{constructor(t,e){this._parentChip=t,e&&"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}_handleClick(t){const e=this._parentChip;e.removable&&!e.disabled&&e.remove(),t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(k),s.Ob(s.l))},t.\u0275dir=s.Jb({type:t,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,e){1&t&&s.bc("click",(function(t){return e._handleClick(t)}))}}),t})();const P=new s.r("mat-chips-default-options");class T{constructor(t,e,i,n){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=n}}const U=Object(a.y)(T);let M=0;class S{constructor(t,e){this.source=t,this.value=e}}let F=(()=>{class t extends U{constructor(t,e,i,n,a,o,r){super(o,n,a,r),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this.ngControl=r,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new c.a,this._uid="mat-chip-list-"+M++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(t,e)=>t===e,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new s.n,this.valueChange=new s.n,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(r.c)(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(t){this._required=Object(r.c)(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Object(r.c)(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=Object(r.c)(t),this.chips&&this.chips.forEach(t=>t.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return Object(l.a)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return Object(l.a)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return Object(l.a)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return Object(l.a)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new b.g(this.chips).withWrap().withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Object(d.a)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(Object(d.a)(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Object(u.a)(null),Object(d.a)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new g.b(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const e=t.target;t.keyCode===n.c&&this._isInputEmpty(e)?(this._keyManager.setLastItemActive(),t.preventDefault()):e&&e.classList.contains("mat-chip")&&(t.keyCode===n.j?(this._keyManager.setFirstItemActive(),t.preventDefault()):t.keyCode===n.g?(this._keyManager.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_isInputEmpty(t){return!(!t||"input"!==t.nodeName.toLowerCase()||t.value)}_setSelectionByValue(t,e=!0){if(this._clearSelection(),this.chips.forEach(t=>t.deselect()),Array.isArray(t))t.forEach(t=>this._selectValue(t,e)),this._sortValues();else{const i=this._selectValue(t,e);i&&e&&this._keyManager.setActiveItem(i)}}_selectValue(t,e=!0){const i=this.chips.find(e=>null!=e.value&&this._compareWith(e.value,t));return i&&(e?i.selectViaInteraction():i.select(),this._selectionModel.select(i)),i}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(e=>{e!==t&&e.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let e=null;e=Array.isArray(this.selected)?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.change.emit(new S(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(t=>{!this._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let e=this.chips.toArray().indexOf(t.chip);this._isValidIndex(e)&&this._keyManager.updateActiveItem(e),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const e=t.chip,i=this.chips.toArray().indexOf(t.chip);this._isValidIndex(i)&&e._hasFocus&&(this._lastDestroyedChipIndex=i)})}_originatesFromChip(t){let e=t.target;for(;e&&e!==this._elementRef.nativeElement;){if(e.classList.contains("mat-chip"))return!0;e=e.parentElement}return!1}_hasFocusedChip(){return this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.l),s.Ob(s.h),s.Ob(v.c,8),s.Ob(w.w,8),s.Ob(w.m,8),s.Ob(a.b),s.Ob(w.t,10))},t.\u0275cmp=s.Ib({type:t,selectors:[["mat-chip-list"]],contentQueries:function(t,e,i){var n;1&t&&s.Hb(i,k,!0),2&t&&s.vc(n=s.cc())&&(e.chips=n)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,e){1&t&&s.bc("focus",(function(){return e.focus()}))("blur",(function(){return e._blur()}))("keydown",(function(t){return e._keydown(t)})),2&t&&(s.Xb("id",e._uid),s.Cb("tabindex",e.disabled?null:e._tabIndex)("aria-describedby",e._ariaDescribedby||null)("aria-required",e.role?e.required:null)("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-multiselectable",e.multiple)("role",e.role)("aria-orientation",e.ariaOrientation),s.Fb("mat-chip-list-disabled",e.disabled)("mat-chip-list-invalid",e.errorState)("mat-chip-list-required",e.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[s.Ab([{provide:m.c,useExisting:t}]),s.yb],ngContentSelectors:_,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,e){1&t&&(s.mc(),s.Ub(0,"div",0),s.lc(1),s.Tb())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),t})(),E=0,B=(()=>{class t{constructor(t,e){this._elementRef=t,this._defaultOptions=e,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new s.n,this.placeholder="",this.id="mat-chip-list-input-"+E++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}set chipList(t){t&&(this._chipList=t,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(t){this._addOnBlur=Object(r.c)(t)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(t){this._disabled=Object(r.c)(t)}get empty(){return!this._inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}_keydown(t){t&&t.keyCode===n.x&&!Object(n.B)(t,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(t)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._chipList.stateChanges.next()}_emitChipEnd(t){!this._inputElement.value&&t&&this._chipList._keydown(t),t&&!this._isSeparatorKey(t)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),t&&t.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(t){this._inputElement.focus(t)}_isSeparatorKey(t){if(Object(n.B)(t))return!1;const e=this.separatorKeyCodes,i=t.keyCode;return Array.isArray(e)?e.indexOf(i)>-1:e.has(i)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.l),s.Ob(P))},t.\u0275dir=s.Jb({type:t,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(t,e){1&t&&s.bc("keydown",(function(t){return e._keydown(t)}))("blur",(function(){return e._blur()}))("focus",(function(){return e._focus()}))("input",(function(){return e._onInput()})),2&t&&(s.Xb("id",e.id),s.Cb("disabled",e.disabled||null)("placeholder",e.placeholder||null)("aria-invalid",e._chipList&&e._chipList.ngControl?e._chipList.ngControl.invalid:null)("aria-required",e._chipList&&e._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[s.zb]}),t})();const L={separatorKeyCodes:[n.h]};let j=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:[a.b,{provide:P,useValue:L}]}),t})()},F96W:function(t,e,i){"use strict";function n(t){const e=Object.assign({},t);return Object.keys(e).forEach(t=>(null==e[t]||""===e[t])&&delete e[t]),e}i.d(e,"a",(function(){return n}))},GSRO:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("ofXK"),s=i("bTqV"),a=i("NFeN"),o=i("bv9b"),r=i("fXoL");let c=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[n.c,s.c,o.b,a.b]]}),t})()},KKQg:function(t,e,i){"use strict";i.d(e,"a",(function(){return $}));var n=i("mrSG"),s=i("fXoL"),a=i("kmQS"),o=i("5o4b"),r=i("OnlV"),c=i("VaLf");let l=(()=>{class t{constructor(t,e,i,n,s){this.settings=t,this.zone=e,this.lazyLoader=i,this.breakpoints=n,this.i18n=s,this.makeBootstrapPromise()}reset(){this.editorIsReady()&&(this.tinymceInstance.setContent(""),this.tinymceInstance.undoManager.clear())}focus(){this.waitForEditor().then(()=>{this.tinymceInstance.focus(!1)})}hasUndo(){return this.editorIsReady()&&this.tinymceInstance.undoManager.hasUndo()}hasRedo(){return this.editorIsReady()&&this.tinymceInstance.undoManager.hasRedo()}queryCommandState(t){return this.editorIsReady()&&this.tinymceInstance.queryCommandState(t)}execCommand(t,e=null){this.waitForEditor().then(()=>{this.zone.run(()=>{this.tinymceInstance.execCommand(t,!1,e)})})}getContents(t){return this.editorIsReady()?this.tinymceInstance.getContent(t):""}setContents(t){this.waitForEditor().then(()=>{this.tinymceInstance.undoManager&&(this.tinymceInstance.undoManager.transact(()=>{this.tinymceInstance.setContent(t)}),this.tinymceInstance.selection.setCursorLocation(),this.tinymceInstance.nodeChanged(),this.tinymceInstance.execCommand("mceResize"))})}insertContents(t){this.waitForEditor().then(()=>{this.tinymceInstance.execCommand("mceInsertContent",!1,t),setTimeout(()=>this.tinymceInstance.selection.collapse())})}insertImage(t){this.waitForEditor().then(()=>{this.insertContents('<img src="'+t+'"/>'),setTimeout(()=>this.execCommand("mceAutoResize"),500)})}waitForEditor(){return this.tinymceInstance?new Promise(t=>t(this.tinymceInstance)):this.bootstrapPromise?this.bootstrapPromise:void 0}setConfig(t){this.config=t,this.loadTinymce().then(()=>{this.initTinymce()})}editorIsReady(){return!this.bootstrapPromise&&!!this.tinymceInstance&&!!this.tinymceInstance.undoManager}loadTinymce(){return this.lazyLoader.loadAsset("js/tinymce/tinymce.min.js",{type:"js"})}initTinymce(){const t={target:this.config.textAreaEl.nativeElement,plugins:["link","codesample","paste","autoresize"],branding:!1,browser_spellcheck:!0,max_height:this.config.maxHeight,min_height:this.config.minHeight,autoresize_on_init:!1,paste_as_text:!0,elementpath:!1,statusbar:!1,entity_encoding:"raw",menubar:!1,convert_urls:!1,forced_root_block:!1,document_base_url:document.baseURI,element_format:"html",body_class:"editor-body",content_style:'html {font-size: 62.5%;}\n.editor-body {font-size: 1.4rem;font-family: "Roboto", "Helvetica Neue", sans-serif;color: rgba(0, 0, 0, .87);}\nimg {max-width: 100%}\ncode[class*=language-], pre[class*=language-] {font-size: inherit;} .mce-preview-object {border: none;}',content_css:["https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic"],default_link_target:"_blank",link_assume_external_targets:!0,target_list:!1,link_title:!1,image_dimensions:!1,image_description:!1,setup:t=>{this.tinymceInstance=t,t.on("change",()=>this.config.onChange.emit(t.getContent())),t.on("click",()=>{this.zone.run(()=>{})}),t.shortcuts.add("ctrl+13","desc",()=>{this.zone.run(()=>{this.config.onChange.emit(t.getContent()),this.config.onCtrlEnter.emit()})})},init_instance_callback:()=>{this.bootstrapPromise=!1,this.bootstrapPromiseResolve(this.tinymceInstance)}};if(this.breakpoints.isMobile$.value||(t.toolbar=!1),this.config.showAdvancedControls&&(t.plugins=t.plugins.concat(["media","hr","visualblocks","visualchars","wordcount"]),t.forced_root_block="p",t.statusbar=!0,t.autoresize_on_init=!0,t.extended_valid_elements="svg[*],use[*],iframe[src|frameborder|width|height|allow=*|allowfullscreen],script[src]",t.elementpath=!0,t.content_css.push(this.settings.getAssetUrl()+"css/advanced-editor-styles.css"),t.target_list=[{title:this.i18n.t("Current window"),value:""},{title:this.i18n.t("New Window"),value:"_blank"}]),"auto"===this.config.minHeight){const e=this.config.editorEl.nativeElement.parentElement.offsetHeight-74-4;t.min_height=e,t.max_height=e}tinymce.init(t)}destroyEditor(){try{this.tinymceInstance&&this.tinymceInstance.remove(),this.tinymceInstance=null,this.makeBootstrapPromise()}catch(t){}}makeBootstrapPromise(){this.bootstrapPromise=new Promise(t=>this.bootstrapPromiseResolve=t)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(a.a),s.Yb(s.A),s.Yb(o.a),s.Yb(r.a),s.Yb(c.a))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=i("Lm4C"),d=i("h586"),u=i("QeDF"),p=i("JYI4"),b=i("WmcL"),g=i("3Pt+"),m=i("Kj3r"),f=i("W5HX"),v=i("twBr"),w=i("dz5c"),_=i("sJvS"),x=i("tU2R"),y=i("PCqb"),C=i("JWVf");let I=(()=>{class t extends _.a{constructor(){super(...arguments),this.DEFAULT_MAX_SIZE_MB=3}initValidations(){const t=[new x.a({maxSize:Object(y.a)(this.DEFAULT_MAX_SIZE_MB,"MB")},this.i18n),new C.a({types:["image"]},this.i18n)];this.validations.push(...t)}}return t.\u0275fac=function(e){return k(e||t)},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const k=s.Wb(I);var O=i("ofXK"),P=i("Qu3c"),T=i("NFeN"),U=i("STbY"),M=i("Rd8u"),S=i("zW5C");const F=["visualArea"],E=["sourceArea"];function B(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",3),s.Ub(1,"button",4),s.bc("click",(function(){return s.zc(t),s.fc().openFileUploadDialog()})),s.gc(2,"trans"),s.Pb(3,"mat-icon",19),s.Tb(),s.Tb()}2&t&&(s.Bb(1),s.nc("matTooltip",s.hc(2,1,"Add Attachment")))}function L(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",3),s.Ub(1,"button",4),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("codesample")})),s.gc(2,"trans"),s.Pb(3,"mat-icon",20),s.Tb(),s.Tb()}2&t&&(s.Bb(1),s.nc("matTooltip",s.hc(2,1,"Insert Code Sample")))}function j(t,e){if(1&t){const t=s.Vb();s.Ub(0,"button",23),s.bc("click",(function(){return s.zc(t),s.fc(2).openInsertImageModal()})),s.gc(1,"trans"),s.Pb(2,"mat-icon",24),s.Tb()}2&t&&s.nc("matTooltip",s.hc(1,1,"Insert Image"))}function z(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",3),s.Ub(1,"button",4),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("mceLink")})),s.gc(2,"trans"),s.Pb(3,"mat-icon",21),s.Tb(),s.Ic(4,j,3,3,"button",22),s.Tb()}if(2&t){const t=s.fc();s.Bb(1),s.Fb("active",t.queryCommandState("link")),s.nc("matTooltip",s.hc(2,4,"Insert Link")),s.Bb(3),s.nc("ngIf",t.currentUser.hasPermission("files.create"))}}function A(t,e){if(1&t){const t=s.Vb();s.Ub(0,"div",1),s.Ub(1,"div",3),s.Ub(2,"button",25),s.Ub(3,"span",26),s.Kc(4,"Insert"),s.Tb(),s.Pb(5,"mat-icon",27),s.Tb(),s.Ub(6,"mat-menu",null,28),s.Ub(8,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("InsertHorizontalRule")})),s.Pb(9,"mat-icon",30),s.Ub(10,"span",26),s.Kc(11,"Horizontal Line"),s.Tb(),s.Tb(),s.Ub(12,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("mceLink")})),s.Pb(13,"mat-icon",21),s.Ub(14,"span",26),s.Kc(15,"Link"),s.Tb(),s.Tb(),s.Ub(16,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("mceMedia")})),s.Pb(17,"mat-icon",31),s.Ub(18,"span",26),s.Kc(19,"Media"),s.Tb(),s.Tb(),s.Ub(20,"div",32),s.bc("click",(function(){return s.zc(t),s.fc().insertInfoContainer("important")})),s.Pb(21,"mat-icon",33),s.Ub(22,"span",26),s.Kc(23,"Important"),s.Tb(),s.Tb(),s.Ub(24,"div",32),s.bc("click",(function(){return s.zc(t),s.fc().insertInfoContainer("warning")})),s.Pb(25,"mat-icon",34),s.Ub(26,"span",26),s.Kc(27,"Warning"),s.Tb(),s.Tb(),s.Ub(28,"div",32),s.bc("click",(function(){return s.zc(t),s.fc().insertInfoContainer("note")})),s.Pb(29,"mat-icon",35),s.Ub(30,"span",26),s.Kc(31,"Note"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(32,"div",3),s.Ub(33,"button",36),s.Ub(34,"span",26),s.Kc(35,"Format"),s.Tb(),s.Pb(36,"mat-icon",27),s.Tb(),s.Ub(37,"mat-menu",37,38),s.Ub(39,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("FormatBlock","h1")})),s.Ub(40,"div",39),s.Kc(41,"Heading 1"),s.Tb(),s.Ub(42,"div",40),s.Kc(43,"Ctrl+Alt+1"),s.Tb(),s.Tb(),s.Ub(44,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("FormatBlock","h2")})),s.Ub(45,"div",39),s.Kc(46,"Heading 2"),s.Tb(),s.Ub(47,"div",40),s.Kc(48,"Ctrl+Alt+2"),s.Tb(),s.Tb(),s.Ub(49,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("FormatBlock","h3")})),s.Ub(50,"div",39),s.Kc(51,"Heading 3"),s.Tb(),s.Ub(52,"div",40),s.Kc(53,"Ctrl+Alt+3"),s.Tb(),s.Tb(),s.Ub(54,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("strikethrough")})),s.Ub(55,"div",39),s.Kc(56,"Strikethrough"),s.Tb(),s.Ub(57,"div",40),s.Kc(58,"Alt+Shift+5"),s.Tb(),s.Tb(),s.Ub(59,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("superscript")})),s.Ub(60,"div",39),s.Kc(61,"Superscript"),s.Tb(),s.Ub(62,"div",40),s.Kc(63,"Ctrl+."),s.Tb(),s.Tb(),s.Ub(64,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("subscript")})),s.Ub(65,"div",39),s.Kc(66,"Subscript"),s.Tb(),s.Ub(67,"div",40),s.Kc(68,"Ctrl+,"),s.Tb(),s.Tb(),s.Ub(69,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("mceBlockQuote")})),s.Ub(70,"div",39),s.Kc(71,"Blockquote"),s.Tb(),s.Ub(72,"div",40),s.Kc(73,"Ctrl+Alt+B"),s.Tb(),s.Tb(),s.Ub(74,"div",29),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("FormatBlock","p")})),s.Ub(75,"div",39),s.Kc(76,"Paragraph"),s.Tb(),s.Ub(77,"div",40),s.Kc(78,"Ctrl+Alt+0"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(79,"div",3),s.Ub(80,"button",41,42),s.Ub(82,"span",26),s.Kc(83,"Color"),s.Tb(),s.Pb(84,"mat-icon",27),s.Tb(),s.Ub(85,"mat-menu",43,44),s.Ub(87,"div",45),s.bc("click",(function(){s.zc(t);const e=s.wc(81);return s.fc().showColorPicker("ForeColor",e)})),s.Pb(88,"mat-icon",46),s.Ub(89,"span",26),s.Kc(90,"Text Color"),s.Tb(),s.Tb(),s.Ub(91,"div",47),s.bc("click",(function(){s.zc(t);const e=s.wc(81);return s.fc().showColorPicker("HiliteColor",e)})),s.Pb(92,"mat-icon",48),s.Ub(93,"span",26),s.Kc(94,"Background Color"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(95,"div",3),s.Ub(96,"button",4),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("justifyLeft")})),s.gc(97,"trans"),s.Pb(98,"mat-icon",49),s.Tb(),s.Ub(99,"button",4),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("justifyCenter")})),s.gc(100,"trans"),s.Pb(101,"mat-icon",50),s.Tb(),s.Ub(102,"button",4),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("justifyRight")})),s.gc(103,"trans"),s.Pb(104,"mat-icon",51),s.Tb(),s.Tb(),s.Ub(105,"div",3),s.Ub(106,"button",4),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("Outdent")})),s.gc(107,"trans"),s.Pb(108,"mat-icon",52),s.Tb(),s.Ub(109,"button",4),s.bc("click",(function(){return s.zc(t),s.fc().execCommand("Indent")})),s.gc(110,"trans"),s.Pb(111,"mat-icon",53),s.Tb(),s.Tb(),s.Ub(112,"div",54),s.Ub(113,"button",55),s.bc("click",(function(){return s.zc(t),s.fc().showVisualEditor()})),s.Kc(114,"Visual "),s.Tb(),s.Ub(115,"button",56),s.bc("click",(function(){return s.zc(t),s.fc().showSourceEditor()})),s.Kc(116,"Source "),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.wc(7),e=s.wc(38),i=s.wc(86),n=s.fc();s.Bb(2),s.nc("matMenuTriggerFor",t),s.Bb(31),s.nc("matMenuTriggerFor",e),s.Bb(47),s.nc("matMenuTriggerFor",i),s.Bb(16),s.Fb("active",n.queryCommandState("justifyLeft")),s.nc("matTooltip",s.hc(97,18,"Align Left")),s.Bb(3),s.Fb("active",n.queryCommandState("justifyCenter")),s.nc("matTooltip",s.hc(100,20,"Center")),s.Bb(3),s.Fb("active",n.queryCommandState("justifyRight")),s.nc("matTooltip",s.hc(103,22,"Align Right")),s.Bb(4),s.nc("matTooltip",s.hc(107,24,"Decrease Indent")),s.Bb(3),s.nc("matTooltip",s.hc(110,26,"Increase Indent")),s.Bb(4),s.Fb("active","visual"===n.activeEditor),s.Bb(2),s.Fb("active","source"===n.activeEditor)}}const R=[[["","customButtons",""]],[["","header",""]],[["","footer",""]]],D=["[customButtons]","[header]","[footer]"];let $=(()=>{class t{constructor(t,e,i,n,a,o,r,c){this.editor=t,this.currentUser=e,this.uploadQueue=i,this.settings=n,this.renderer=a,this.el=o,this.overlayPanel=r,this.imageValidator=c,this.sourceAreaControl=new g.i,this.activeEditor="visual",this.showAdvancedControls=!1,this.basic=!1,this.minHeight=183,this.maxHeight=530,this.onChange=new s.n,this.onCtrlEnter=new s.n,this.onFileUpload=new s.n}ngAfterViewInit(){this.bootTextEditor()}ngOnDestroy(){this.destroyEditor()}reset(){this.editor.reset()}focus(){this.editor.focus()}hasUndo(){return this.editor.hasUndo()}hasRedo(){return this.editor.hasRedo()}queryCommandState(t){return this.editor.queryCommandState(t)}execCommand(t,e=null){this.editor.execCommand(t,e)}insertInfoContainer(t){this.insertContents(`<div class="widget widget-${t}"><div class="title">${Object(b.a)(t)}:</div><br></div><br>`)}showColorPicker(t,e){return Object(n.a)(this,void 0,void 0,(function*(){const{BeColorPickerModule:n}=yield i.e(10).then(i.bind(null,"0PT2"));this.overlayPanel.open(n.components.panel,{origin:new s.l(e),position:p.a}).valueChanged().pipe(Object(m.a)(50)).subscribe(e=>{this.execCommand(t,e)})}))}showVisualEditor(){this.editor.tinymceInstance.contentAreaContainer&&"visual"!==this.activeEditor&&(this.activeEditor="visual",this.renderer.setStyle(this.editor.tinymceInstance.contentAreaContainer,"display","block"),this.renderer.setStyle(this.sourceTextArea.nativeElement,"display","none"),this.editor.focus())}showSourceEditor(){this.editor.tinymceInstance.contentAreaContainer&&"source"!==this.activeEditor&&(this.activeEditor="source",this.renderer.setStyle(this.sourceTextArea.nativeElement,"height",this.editor.tinymceInstance.contentAreaContainer.offsetHeight+"px"),this.renderer.setStyle(this.sourceTextArea.nativeElement,"display","block"),this.renderer.setStyle(this.editor.tinymceInstance.contentAreaContainer,"display","none"),this.sourceAreaControl.setValue(this.editor.getContents({source_view:!0})))}openFileUploadDialog(){Object(h.a)({multiple:!0}).then(t=>{this.onFileUpload.emit(t)})}openInsertImageModal(){const t={uri:f.a.Image,validator:this.imageValidator,httpParams:{diskPrefix:this.inlineUploadPrefix}};Object(h.a)({types:[u.a.image]}).then(e=>{this.uploadQueue.start(e,t).subscribe(t=>{this.insertImage(t.fileEntry.url)})})}getContents(){return this.editor.getContents()}setContents(t){this.editor.setContents(t)}insertContents(t){this.editor.insertContents(t)}insertImage(t){this.editor.insertImage(t)}insertLink(t){this.insertContents(`<a href="${t.href}" target="${t.target||"self"}">${t.text}</a>`)}destroyEditor(){this.editor.destroyEditor()}bootTextEditor(){this.editor.setConfig({textAreaEl:this.visualTextArea,editorEl:this.el,minHeight:this.minHeight,maxHeight:this.maxHeight,onChange:this.onChange,onCtrlEnter:this.onCtrlEnter,showAdvancedControls:this.showAdvancedControls})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(l),s.Ob(v.a),s.Ob(d.a),s.Ob(a.a),s.Ob(s.G),s.Ob(s.l),s.Ob(w.a),s.Ob(I))},t.\u0275cmp=s.Ib({type:t,selectors:[["text-editor"]],viewQuery:function(t,e){var i;1&t&&(s.Gc(F,!0),s.Gc(E,!0)),2&t&&(s.vc(i=s.cc())&&(e.visualTextArea=i.first),s.vc(i=s.cc())&&(e.sourceTextArea=i.first))},inputs:{showAdvancedControls:"showAdvancedControls",basic:"basic",minHeight:"minHeight",maxHeight:"maxHeight",inlineUploadPrefix:"inlineUploadPrefix"},outputs:{onChange:"onChange",onCtrlEnter:"onCtrlEnter",onFileUpload:"onFileUpload"},features:[s.Ab([d.a,l])],ngContentSelectors:D,decls:41,vars:47,consts:[[1,"editor-header"],[1,"toolbar-row"],["class","header-actions",4,"ngIf"],[1,"header-actions"],["type","button",1,"no-style","editor-button",3,"matTooltip","click"],["svgIcon","undo"],["svgIcon","redo"],["svgIcon","format-bold"],["svgIcon","format-italic"],["svgIcon","format-underlined"],["svgIcon","format-list-bulleted"],["svgIcon","format-list-numbered"],[1,"header-actions","last"],["svgIcon","format-clear"],["class","toolbar-row",4,"ngIf"],["rows","8",1,"source-textarea",2,"display","none",3,"formControl","blur"],["sourceArea",""],["rows","8",1,"visual-textarea"],["visualArea",""],["svgIcon","attachment"],["svgIcon","code"],["svgIcon","link"],["type","button","class","no-style editor-button image-modal-button",3,"matTooltip","click",4,"ngIf"],["type","button",1,"no-style","editor-button","image-modal-button",3,"matTooltip","click"],["svgIcon","image"],["type","button",1,"no-style","editor-button","text-button","insert-button",3,"matMenuTriggerFor"],["trans",""],["svgIcon","arrow-drop-down",1,"caret"],["insertMenu",""],["mat-menu-item","",3,"click"],["svgIcon","remove"],["svgIcon","videocam"],["mat-menu-item","","trans","",3,"click"],["svgIcon","star"],["svgIcon","warning"],["svgIcon","note"],["type","button",1,"no-style","editor-button","text-button","format-button",3,"matMenuTriggerFor"],[1,"format-menu","menu-with-alt-text"],["formatMenu",""],["trans","",1,"text"],[1,"alt-text"],["type","button",1,"no-style","editor-button","text-button","color-button",3,"matMenuTriggerFor"],["colorPickerOrigin",""],[1,"color-dropdown"],["colorMenu",""],["mat-menu-item","",1,"text-color-item",3,"click"],["svgIcon","format-color-text"],["mat-menu-item","",1,"bg-color-item",3,"click"],["svgIcon","format-color-fill"],["svgIcon","format-align-left"],["svgIcon","format-align-center"],["svgIcon","format-align-right"],["svgIcon","format-indent-decrease"],["svgIcon","format-indent-increase"],[1,"header-actions","editor-toggle-buttons"],["type","button","trans","",1,"no-style","editor-button","visual-mode-button",3,"click"],["type","button","trans","",1,"no-style","editor-button","source-mode-button",3,"click"]],template:function(t,e){1&t&&(s.mc(R),s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ic(2,B,4,3,"div",2),s.Ic(3,L,4,3,"div",2),s.Ub(4,"div",3),s.Ub(5,"button",4),s.bc("click",(function(){return e.execCommand("undo")})),s.gc(6,"trans"),s.Pb(7,"mat-icon",5),s.Tb(),s.Ub(8,"button",4),s.bc("click",(function(){return e.execCommand("redo")})),s.gc(9,"trans"),s.Pb(10,"mat-icon",6),s.Tb(),s.Tb(),s.Ub(11,"div",3),s.Ub(12,"button",4),s.bc("click",(function(){return e.execCommand("bold")})),s.gc(13,"trans"),s.Pb(14,"mat-icon",7),s.Tb(),s.Ub(15,"button",4),s.bc("click",(function(){return e.execCommand("italic")})),s.gc(16,"trans"),s.Pb(17,"mat-icon",8),s.Tb(),s.Ub(18,"button",4),s.bc("click",(function(){return e.execCommand("underline")})),s.gc(19,"trans"),s.Pb(20,"mat-icon",9),s.Tb(),s.Tb(),s.Ub(21,"div",3),s.Ub(22,"button",4),s.bc("click",(function(){return e.execCommand("insertunorderedlist")})),s.gc(23,"trans"),s.Pb(24,"mat-icon",10),s.Tb(),s.Ub(25,"button",4),s.bc("click",(function(){return e.execCommand("insertorderedlist")})),s.gc(26,"trans"),s.Pb(27,"mat-icon",11),s.Tb(),s.Tb(),s.Ic(28,z,5,6,"div",2),s.lc(29),s.Ub(30,"div",12),s.Ub(31,"button",4),s.bc("click",(function(){return e.execCommand("removeformat")})),s.gc(32,"trans"),s.Pb(33,"mat-icon",13),s.Tb(),s.Tb(),s.lc(34,1),s.Tb(),s.Ic(35,A,117,28,"div",14),s.Tb(),s.Ub(36,"textarea",15,16),s.bc("blur",(function(){return e.setContents(e.sourceAreaControl.value)})),s.Tb(),s.Pb(38,"textarea",17,18),s.lc(40,2)),2&t&&(s.Bb(2),s.nc("ngIf",e.inlineUploadPrefix&&e.currentUser.hasPermission("files.create")&&e.onFileUpload.observers.length),s.Bb(1),s.nc("ngIf",!e.basic),s.Bb(2),s.Fb("disabled",!e.hasUndo()),s.nc("matTooltip",s.hc(6,31,"Undo")),s.Bb(3),s.Fb("disabled",!e.hasRedo()),s.nc("matTooltip",s.hc(9,33,"Redo")),s.Bb(4),s.Fb("active",e.queryCommandState("bold")),s.nc("matTooltip",s.hc(13,35,"Bold")),s.Bb(3),s.Fb("active",e.queryCommandState("italic")),s.nc("matTooltip",s.hc(16,37,"Italic")),s.Bb(3),s.Fb("active",e.queryCommandState("underline")),s.nc("matTooltip",s.hc(19,39,"Underline")),s.Bb(4),s.Fb("active",e.queryCommandState("unorderedlist")),s.nc("matTooltip",s.hc(23,41,"Unordered List")),s.Bb(3),s.Fb("active",e.queryCommandState("orderedlist")),s.nc("matTooltip",s.hc(26,43,"Ordered List")),s.Bb(3),s.nc("ngIf",!e.basic),s.Bb(3),s.nc("matTooltip",s.hc(32,45,"Remove Formatting")),s.Bb(4),s.nc("ngIf",e.showAdvancedControls),s.Bb(1),s.Hc("min-height",e.minHeight),s.nc("formControl",e.sourceAreaControl),s.Bb(2),s.Hc("min-height",e.minHeight))},directives:[O.t,P.a,T.a,g.d,g.u,g.j,U.d,M.a,U.e,U.b],pipes:[S.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:218px;max-height:600px;position:relative;border:1px solid var(--be-divider-default);border-radius:4px;overflow:hidden}[_nghost-%COMP%]     .editor-button{color:#788593;padding:7px;width:36px;height:36px}[_nghost-%COMP%]     .editor-button .mat-icon{height:22px;width:22px}[_nghost-%COMP%]     .editor-button .caret{display:inline-block;width:20px;height:20px;vertical-align:middle}[_nghost-%COMP%]     .editor-button.text-button{display:block;font-weight:300;font-size:1.5rem;width:auto}[_nghost-%COMP%]     .editor-button.disabled{opacity:.4}[_nghost-%COMP%]     .editor-button.active{background-color:rgba(0,0,0,.04)}[_nghost-%COMP%]     .editor-button.success{color:var(--be-accent-default)}[_nghost-%COMP%]     .editor-button:hover{background-color:rgba(0,0,0,.04)}[_nghost-%COMP%]     .editor-footer{position:relative;height:37px;flex-shrink:0;background-color:var(--be-background-alternative);border-top:1px solid var(--be-divider-default)}textarea[_ngcontent-%COMP%]{border:none;outline:none;resize:none;padding:15px}.editor-header[_ngcontent-%COMP%]{clear:both;flex:0 0 37px;background-color:var(--be-background-alternative)}.toolbar-row[_ngcontent-%COMP%]{display:flex;height:37px;border-bottom:1px solid var(--be-divider-default);overflow:hidden}  .header-actions{display:inline-block;border-right:1px solid var(--be-divider-default);height:100%;padding:0 4px}  .header-actions.right{margin-left:auto;margin-right:7px}  .header-actions.last{border-right:none}.editor-toggle-buttons[_ngcontent-%COMP%]{border-right:none;margin-left:auto;padding:0;display:flex}.editor-toggle-buttons[_ngcontent-%COMP%]   .editor-button[_ngcontent-%COMP%]{width:auto}@media only screen and (max-width:768px){.editor-header[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),t})()},W5HX:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(t){return t.Image="uploads/images",t}({})},XZLl:function(t,e,i){"use strict";i.d(e,"a",(function(){return h}));var n=i("fXoL"),s=i("itxp"),a=i("/w9p"),o=i("kmQS"),r=i("LRXf"),c=i("jhN1"),l=i("twBr");let h=(()=>{class t{constructor(t,e,i,s,a,o){this.file=t,this.transformer=e,this.settings=i,this.http=s,this.sanitizer=a,this.currentUser=o,this.filePreviewWrapper=!0,this.download=new n.n}getSrc(){return this.transformer(this.file)}getSafeSrc(){return this.sanitizer.bypassSecurityTrustResourceUrl(this.getSrc())}getContents(){return this.http.get(this.getSrc(),null,{responseType:"text"})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(s.a),n.Ob(a.a),n.Ob(o.a),n.Ob(r.a),n.Ob(c.b),n.Ob(l.a))},t.\u0275dir=n.Jb({type:t,hostVars:2,hostBindings:function(t,e){2&t&&n.Fb("file-preview-wrapper",e.filePreviewWrapper)}}),t})()},ZiO8:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("XZLl"),s=i("fXoL"),a=i("ofXK"),o=i("bTqV");function r(t,e){if(1&t){const t=s.Vb();s.Ub(0,"button",3),s.bc("click",(function(){return s.zc(t),s.fc().download.emit()})),s.Kc(1,"Download"),s.Tb()}}let c=(()=>{class t extends n.a{getMessage(){return this.message||"No file preview available."}}return t.\u0275fac=function(e){return l(e||t)},t.\u0275cmp=s.Ib({type:t,selectors:[["default-preview"]],inputs:{message:"message"},features:[s.yb],decls:4,vars:2,consts:[[1,"panel","preview-object"],["trans","",1,"message"],["mat-raised-button","","color","accent","trans","",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","trans","",3,"click"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Kc(2),s.Tb(),s.Ic(3,r,2,0,"button",2),s.Tb()),2&t&&(s.Bb(2),s.Lc(e.getMessage()),s.Bb(1),s.nc("ngIf",e.download.observers.length))},directives:[a.t,o.b],styles:["[_nghost-%COMP%]{display:block;max-width:380px;max-height:150px}.panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:var(--be-background);color:var(--be-text);border-radius:4px;width:100%;height:100%;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.message[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:15px}.mat-raised-button[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),t})();const l=s.Wb(c)},h586:function(t,e,i){"use strict";i.d(e,"a",(function(){return S}));var n=i("XNiG"),s=i("2Vo4"),a=i("jtHE"),o=i("oJgS");class r{constructor(t,e){this.canceled$=new n.a,this.processing$=new s.a(!1),this.uploadedResponse$=new a.a(1),this.progress$=new s.a({percentage:0}),this.error$=new s.a(null),this.customData={},this.uploadedFile=t,this.id=e||Object(o.a)()}get completed(){return!this.processing$.value&&100===this.progress$.value.percentage}get inProgress(){return!this.error$.value&&!this.completed}cancel(){this.canceled$.next(!0),this.finalize()}complete(){this.setProgress({percentage:100,eta:null}),this.finalize()}finalize(){this.uploadedResponse$.complete(),this.canceled$.complete(),this.progress$.complete()}finishProcessing(){this.processing$.next(!1),this.processing$.complete()}addError(t){this.error$.next(t)}setProgress(t){this.progress$.next(Object.assign(Object.assign({},this.progress$.value),t))}}var c=i("Cfvw"),l=i("z6cu"),h=i("EY2u"),d=i("5+tZ"),u=i("JIr8"),p=i("1G5W"),b=i("lJxs"),g=i("pLZG"),m=i("JfjL"),f=i("VfAk"),v=i("fXoL"),w=i("oVOl"),_=i("sJvS"),x=i("tU2R"),y=i("1MND");class C extends y.a{constructor(t,e){super(),this.params=t,this.i18n=e,this.errorMessage=this.i18n.t("Only these file types are allowed: :extensions",{extensions:this.params.extensions.join(", ")})}fails(t){return!this.params.extensions.some(e=>e.toLowerCase()===t.extension.toLowerCase())}}class I extends y.a{constructor(t,e){super(),this.params=t,this.i18n=e,this.errorMessage=this.i18n.t("These file types are not allowed: :extensions",{extensions:this.params.extensions.join(", ")})}fails(t){return this.params.extensions.some(e=>e===t.extension)}}var k=i("PCqb");let O=(()=>{class t extends _.a{constructor(){super(...arguments),this.DEFAULT_MAX_FILE_SIZE_MB=8,this.showToast=!0}initValidations(){this.validations.push(new x.a({maxSize:this.getMaxFileSize()},this.i18n));const t=this.getAllowedExtensions(),e=this.getBlockedExtensions();t&&t.length&&this.validations.push(new C({extensions:t},this.i18n)),e&&e.length&&this.validations.push(new I({extensions:e},this.i18n))}getMaxFileSize(){return this.settings.get("uploads.max_size",Object(k.a)(this.DEFAULT_MAX_FILE_SIZE_MB,"MB"))}getAllowedExtensions(){return this.settings.getJson("uploads.allowed_extensions")}getBlockedExtensions(){return this.settings.getJson("uploads.blocked_extensions")}}return t.\u0275fac=function(e){return P(e||t)},t.\u0275prov=v.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const P=v.Wb(O);var T=i("i2dy"),U=i("twBr"),M=i("kmQS");let S=(()=>{class t{constructor(t,e,i,o,r){this.api=t,this.defaultValidator=e,this.toast=i,this.currentUser=o,this.settings=r,this.uploads$=new s.a([]),this.totalProgress$=new a.a(1),this.uploadsAdded$=new n.a,this.count$=new s.a({pending:0,completed:0})}isEmpty(){return!this.uploads$.value.length}getAllCompleted(){return this.uploads$.value.filter(t=>t.completed).map(t=>t.fileEntry)}updateTotalProgress(){const t=this.uploads$.value.map(t=>t.progress$.value.percentage||0);this.totalProgress$.next(t.reduce((t,e)=>t+e,0)/t.length)}totalProgress(){return this.totalProgress$.asObservable()}start(t,e={}){const i=e.validator||this.defaultValidator;let n=[];if(Array.isArray(t))n=this.transformUploads(t,i),this.uploads$.next(this.uploads$.value.concat(n)),this.uploadsAdded$.next(n);else{const e=this.uploads$.value.map(e=>{if(t[e.id]){const s=this.transformUploads([t[e.id]],i,e.id)[0];return n.push(s),s}return e});this.uploads$.next(e)}return this.updateCount(),Object(c.a)(n.filter(t=>!t.error$.value)).pipe(Object(d.a)(t=>this.api.upload(t.uploadedFile,e).pipe(Object(u.a)(n=>(this.handleUploadFailure(n,t,i),e.bubbleError?Object(l.a)(n):h.a)),Object(p.a)(t.canceled$),Object(b.a)(i=>(this.handleUploadEvent(i,t,e.willProcessFiles),i.name===m.a.COMPLETED&&(i.body.queueItemId=t.id),i))),1),Object(g.a)(t=>t.name===m.a.COMPLETED),Object(b.a)(t=>t.body))}updateProgress(t,e){const i=this.find(t);i&&(i.setProgress({eta:e.eta,speed:e.speed,percentage:e.progress,totalBytes:e.totalBytes,completedBytes:e.completedBytes}),this.updateTotalProgress())}completeUpload(t,e){const i=this.find(t);i&&(i.uploadedResponse$.next(e),i.fileEntry=e.fileEntry,i.complete(),this.updateTotalProgress())}errorUpload(t,e){this.find(t).addError(e)}reset(){this.uploads$.value.forEach(t=>t.cancel()),this.uploads$.next([])}remove(t){const e=this.uploads$.value.findIndex(e=>e.id===t),i=this.uploads$.value[e];i.completed?i.finalize():i.cancel(),this.uploads$.value.splice(e,1),this.uploads$.next(this.uploads$.value)}find(t){return this.uploads$.value.find(e=>e.id===t)}transformUploads(t,e,i){return t.map(t=>{const n=new r(t,i);if(e){const i=e.validate(t);i.failed&&n.addError(i.errorMessage)}return n})}handleUploadEvent(t,e,i=!1){t.name===m.a.PROGRESS?(100===t.progress&&(t=Object.assign(Object.assign({},t),{progress:99}),i&&e.processing$.next(!0)),this.updateProgress(e.id,t)):t.name===m.a.COMPLETED&&(this.completeUpload(e.id,t.body),this.updateCount())}handleUploadFailure(t,e,i){var n;let s=null===(n=null==t?void 0:t.errors)||void 0===n?void 0:n.file,a=null;s||(s=f.a.DefaultUpload,a=this.currentUser.isAdmin()&&!this.settings.get("site.hide_docs_buttons")),this.errorUpload(e.id,s),this.updateCount(),this.updateTotalProgress(),i.showToast&&this.toast.open(s,{action:a?"Learn More":null}).onAction().subscribe(()=>{window.open(f.b)})}updateCount(){const t=this.uploads$.value.filter(t=>t.inProgress).length;this.count$.next({pending:t,completed:this.uploads$.value.length-t})}}return t.\u0275fac=function(e){return new(e||t)(v.Yb(w.a),v.Yb(O),v.Yb(T.b),v.Yb(U.a),v.Yb(M.a))},t.\u0275prov=v.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},itxp:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));const n=new(i("fXoL").r)("CURRENT_PREVIEW_FILE")},k3xQ:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("ofXK"),s=i("fXoL");let a=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})()},ovFL:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i("fXoL"),s=i("7LS1"),a=i("ofXK"),o=i("+rOU");function r(t,e){}function c(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Ic(1,r,0,0,"ng-template",1),n.bc("attached",(function(e){return n.zc(t),n.fc().listenForDownloadClick(e)})),n.Rb()}if(2&t){const t=e.ngIf;n.Bb(1),n.nc("cdkPortalOutlet",t)}}let l=(()=>{class t{constructor(t){this.previewFiles=t,this.disableDownload=!1}ngOnChanges(t){this.previewFiles.set(this.files,this.activeFile)}ngOnDestroy(){this.previewFiles.destroy(),this.downloadSub&&this.downloadSub.unsubscribe()}listenForDownloadClick(t){this.downloadSub&&this.downloadSub.unsubscribe(),this.disableDownload||(this.downloadSub=t.instance.download.subscribe(()=>{this.previewFiles.download.next()}))}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(s.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["preview-container"]],inputs:{files:"files",activeFile:"activeFile",disableDownload:"disableDownload"},features:[n.zb],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cdkPortalOutlet","attached"]],template:function(t,e){1&t&&(n.Ic(0,c,2,1,"ng-container",0),n.gc(1,"async")),2&t&&n.nc("ngIf",n.hc(1,1,e.previewFiles.getPortal()))},directives:[a.t,o.c],pipes:[a.b],styles:["[_nghost-%COMP%]{display:flex;width:100%;min-height:100%;align-items:center;justify-content:center;position:relative;overflow:hidden}  .file-preview-wrapper{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}"],changeDetection:0}),t})()},rG4v:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("eNwd"),s=i("7o/Q"),a=i("D0XW");i("l7GE"),i("ZUHj");const o={leading:!0,trailing:!1};class r{constructor(t,e,i,n){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=n}call(t,e){return e.subscribe(new c(t,this.duration,this.scheduler,this.leading,this.trailing))}}class c extends s.a{constructor(t,e,i,n,s){super(t),this.duration=e,this.scheduler=i,this.leading=n,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function l(t){const{subscriber:e}=t;e.clearThrottle()}var h=i("fXoL"),d=i("h586"),u=i("bv9b");let p=(()=>{class t{constructor(t,e,i){this.el=t,this.uploadQueue=e,this.cd=i,this.hidden=!0,this.subscription=this.uploadQueue.totalProgress().pipe(function(t,e=a.a,i=o){return n=>n.lift(new r(t,e,i.leading,i.trailing))}(260,n.a,{leading:!0,trailing:!0})).subscribe(t=>{this.progress=t,this.hidden=100===t||0===this.uploadQueue.count$.value.pending,this.cd.markForCheck()})}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(h.Ob(h.l),h.Ob(d.a),h.Ob(h.h))},t.\u0275cmp=h.Ib({type:t,selectors:[["upload-progress-bar"]],hostVars:2,hostBindings:function(t,e){2&t&&h.Fb("hidden",e.hidden)},decls:1,vars:1,consts:[["mode","determinate","color","accent",3,"value"]],template:function(t,e){1&t&&h.Pb(0,"mat-progress-bar",0),2&t&&h.nc("value",e.progress)},directives:[u.a],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),t})()},rcZy:function(t,e,i){"use strict";i.d(e,"a",(function(){return g}));var n=i("3Pt+"),s=i("pLZG"),a=i("lJxs"),o=i("fXoL"),r=i("2hX1"),c=i("ofXK"),l=i("bTqV"),h=i("NFeN"),d=i("Rd8u"),u=i("zW5C");function p(t,e){if(1&t&&(o.Ub(0,"div",6),o.Ub(1,"div",7),o.Kc(2,"Items per page"),o.Tb(),o.Ub(3,"div",8),o.Ub(4,"select",9),o.Ub(5,"option",10),o.Kc(6,"10"),o.Tb(),o.Ub(7,"option",10),o.Kc(8,"15"),o.Tb(),o.Ub(9,"option",10),o.Kc(10,"20"),o.Tb(),o.Ub(11,"option",10),o.Kc(12,"50"),o.Tb(),o.Ub(13,"option",10),o.Kc(14,"100"),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t){const t=o.fc();o.Bb(4),o.nc("formControl",t.perPageControl),o.Bb(1),o.nc("ngValue",10),o.Bb(2),o.nc("ngValue",15),o.Bb(2),o.nc("ngValue",20),o.Bb(2),o.nc("ngValue",50),o.Bb(2),o.nc("ngValue",100)}}function b(t,e){if(1&t&&(o.Ub(0,"div",11),o.Kc(1),o.gc(2,"trans"),o.Tb()),2&t){const t=o.fc();o.Bb(1),o.Pc(" ",t.from," - ",t.to," ",o.hc(2,4,"of")," ",t.totalRecords," ")}}let g=(()=>{class t{constructor(t,e){this.datable=t,this.cd=e,this.hidePerPage=!1,this.perPageControl=new n.i(15)}ngOnInit(){this.changeRef=this.datable.paginator.response$.pipe(Object(s.a)(t=>!!(null==t?void 0:t.pagination)),Object(a.a)(t=>t.pagination)).subscribe(t=>{this.to=t.per_page*t.current_page,this.from=this.to-t.per_page||1,this.totalRecords=t.total,this.havePrevious=t.current_page>1,this.haveNext=t.current_page<t.last_page,this.perPageControl.setValue(parseInt(""+t.per_page),{emitEvent:!1}),this.cd.markForCheck()}),this.perPageControl.valueChanges.subscribe(t=>{this.datable.paginator.changePerPage(t)})}ngOnDestroy(){this.changeRef.unsubscribe(),this.datable.destroy()}previousPage(){this.datable.paginator.previousPage()}nextPage(){this.datable.paginator.nextPage()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(r.a),o.Ob(o.h))},t.\u0275cmp=o.Ib({type:t,selectors:[["datatable-footer"]],inputs:{hidePerPage:"hidePerPage"},decls:9,vars:8,consts:[["class","page-size",4,"ngIf"],[1,"range-actions"],["class","range-label",4,"ngIf"],["type","button","mat-icon-button","",1,"range-button",3,"disabled","click"],["svgIcon","chevron-left"],["svgIcon","chevron-right"],[1,"page-size"],["trans","",1,"page-size-label"],[1,"input-container"],[1,"page-size-input",3,"formControl"],[3,"ngValue"],[1,"range-label"]],template:function(t,e){1&t&&(o.Ic(0,p,15,6,"div",0),o.Ub(1,"div",1),o.Ic(2,b,3,6,"div",2),o.Ub(3,"button",3),o.bc("click",(function(){return e.previousPage()})),o.gc(4,"async"),o.Pb(5,"mat-icon",4),o.Tb(),o.Ub(6,"button",3),o.bc("click",(function(){return e.nextPage()})),o.gc(7,"async"),o.Pb(8,"mat-icon",5),o.Tb(),o.Tb()),2&t&&(o.nc("ngIf",!e.hidePerPage),o.Bb(2),o.nc("ngIf",e.from&&e.to&&e.totalRecords),o.Bb(1),o.nc("disabled",!e.havePrevious||o.hc(4,4,e.datable.paginator.loading$)),o.Bb(3),o.nc("disabled",!e.haveNext||o.hc(7,6,e.datable.paginator.loading$)))},directives:[c.t,l.b,h.a,d.a,n.G,n.u,n.j,n.z,n.J],pipes:[c.b,u.a],styles:["[_nghost-%COMP%]{padding:0 8px;justify-content:flex-end;flex-wrap:wrap-reverse;width:100%;height:56px}.page-size[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;align-items:center}.page-size[_ngcontent-%COMP%]{margin-right:8px}.page-size-label[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--be-secondary-text);margin:0 4px}.input-container[_ngcontent-%COMP%]{width:auto}.page-size-input[_ngcontent-%COMP%]{width:60px;height:33px;padding:4px;margin:0 4px}.range-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.range-label[_ngcontent-%COMP%]{margin:0 32px 0 24px;font-size:1.2rem}.range-button[_ngcontent-%COMP%], .range-label[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.range-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px}"],changeDetection:0}),t})()},tTc1:function(t,e,i){"use strict";function n(t,e){const i=document.createElement("a");i.href=t,e&&(i.download=e),document.body.appendChild(i),i.click(),document.body.removeChild(i)}i.d(e,"a",(function(){return n}))},vUXK:function(t,e,i){"use strict";i.d(e,"a",(function(){return M})),i.d(e,"b",(function(){return S}));var n=i("fXoL"),s=i("2Vo4"),a=i("XZLl"),o=i("ofXK"),r=i("ZiO8");function c(t,e){1&t&&n.Pb(0,"default-preview",2)}function l(t,e){if(1&t&&(n.Ub(0,"div",3),n.Ub(1,"pre"),n.Kc(2),n.gc(3,"async"),n.Tb(),n.Tb()),2&t){const t=n.fc();n.Bb(2),n.Lc(n.hc(3,1,t.content$))}}let h=(()=>{class t extends a.a{constructor(){super(...arguments),this.content$=new s.a(""),this.fileTooLarge$=new s.a(!1)}ngOnInit(){this.file.file_size>5242880?this.fileTooLarge$.next(!0):this.loadFileContents()}loadFileContents(){this.getContents().subscribe(t=>{this.content$.next(t)})}}return t.\u0275fac=function(e){return d(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["text-preview"]],features:[n.yb],decls:4,vars:4,consts:[["message","This file is too large to preview.",4,"ngIf","ngIfElse"],["textPreview",""],["message","This file is too large to preview."],[1,"text-wrapper","preview-object"]],template:function(t,e){if(1&t&&(n.Ic(0,c,1,0,"default-preview",0),n.gc(1,"async"),n.Ic(2,l,4,3,"ng-template",null,1,n.Jc)),2&t){const t=n.wc(3);n.nc("ngIf",n.hc(1,2,e.fileTooLarge$))("ngIfElse",t)}},directives:[o.t,r.a],pipes:[o.b],styles:["[_nghost-%COMP%]{display:block;width:80%;min-height:80%}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}.text-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);border-radius:4px;color:var(--be-text);padding:20px;overflow:auto}.text-wrapper[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{word-wrap:break-word}pre[_ngcontent-%COMP%]{display:block;white-space:pre-wrap;margin:0;font-size:1.4rem;font-family:inherit}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),t})();const d=n.Wb(h),u=["playerEl"];function p(t,e){1&t&&n.Pb(0,"default-preview")}let b=(()=>{class t extends a.a{constructor(){super(...arguments),this.invalidMedia=!1}ngOnInit(){this.invalidMedia=!this.canPlayVideo(),this.invalidMedia||(this.player().src=this.getSrc(),this.player().play())}canPlayVideo(){return!!this.player().canPlayType(this.file.mime)}player(){return this.playerEl.nativeElement}}return t.\u0275fac=function(e){return g(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["audio-preview"]],viewQuery:function(t,e){var i;1&t&&n.Gc(u,!0),2&t&&n.vc(i=n.cc())&&(e.playerEl=i.first)},features:[n.yb],decls:3,vars:3,consts:[["controls","controls","controlsList","nodownload noremoteplayback",1,"preview-object"],["playerEl",""],[4,"ngIf"]],template:function(t,e){1&t&&(n.Pb(0,"audio",0,1),n.Ic(2,p,1,0,"default-preview",2)),2&t&&(n.Fb("hidden",e.invalidMedia),n.Bb(2),n.nc("ngIf",e.invalidMedia))},directives:[o.t,r.a],styles:["[_nghost-%COMP%]{display:block;max-width:80%;height:auto}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}audio[_ngcontent-%COMP%]{display:block;max-width:100%;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);max-height:60px}audio[_ngcontent-%COMP%], default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),t})();const g=n.Wb(b);function m(t,e){1&t&&n.Pb(0,"default-preview")}let f=(()=>{class t extends b{}return t.\u0275fac=function(e){return v(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["video-preview"]],features:[n.yb],decls:3,vars:3,consts:[["controls","controls","controlsList","nodownload noremoteplayback",1,"preview-object"],["playerEl",""],[4,"ngIf"]],template:function(t,e){1&t&&(n.Pb(0,"video",0,1),n.Ic(2,m,1,0,"default-preview",2)),2&t&&(n.Fb("hidden",e.invalidMedia),n.Bb(2),n.nc("ngIf",e.invalidMedia))},directives:[o.t,r.a],styles:["[_nghost-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}video[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}default-preview[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),t})();const v=n.Wb(f);let w=(()=>{class t extends a.a{}return t.\u0275fac=function(e){return _(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["image-preview"]],features:[n.yb],decls:1,vars:1,consts:[[1,"preview-object",3,"src"]],template:function(t,e){1&t&&n.Pb(0,"img",0),2&t&&n.nc("src",e.getSafeSrc(),n.Cc)},styles:["[_nghost-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;height:auto;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);position:absolute;top:0;left:0;right:0;bottom:0;background-color:var(--be-background)}"],changeDetection:0}),t})();const _=n.Wb(w);let x=(()=>{class t extends a.a{constructor(){super(...arguments),this.className="preview-object"}getSrc(){return super.getSrc()+"#toolbar=0"}}return t.\u0275fac=function(e){return y(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["pdf-preview"]],hostVars:2,hostBindings:function(t,e){2&t&&n.Db(e.className)},features:[n.yb],decls:1,vars:1,consts:[[3,"src"]],template:function(t,e){1&t&&n.Pb(0,"iframe",0),2&t&&n.nc("src",e.getSafeSrc(),n.Bc)},styles:["[_nghost-%COMP%]{display:block;margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%], iframe[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{border:none}"],changeDetection:0}),t})();const y=n.Wb(x);var C=i("XFMS"),I=i("FBzJ");const k=["iframe"];function O(t,e){if(1&t){const t=n.Vb();n.Sb(0),n.Pb(1,"iframe",3,4),n.Ub(3,"div",5),n.bc("click",(function(){return n.zc(t),n.fc().openInNewWindow()})),n.Tb(),n.Rb()}}function P(t,e){1&t&&n.Pb(0,"default-preview")}let T=(()=>{class t extends a.a{constructor(){super(...arguments),this.loading$=new s.a(!0),this.showDefaultPreview$=new s.a(!1)}ngAfterViewInit(){if(this.file.file_size>25e6)return this.showDefaultPreview();this.iframe.nativeElement.onload=()=>{clearTimeout(this.timeoutRef),this.stopLoading()},this.getIframeSrc().then(t=>{this.iframe.nativeElement.src=t}).catch(()=>{this.showDefaultPreview()}),this.timeoutRef=setTimeout(()=>{this.showDefaultPreview()},5e3)}stopLoading(){this.loading$.next(!1)}showDefaultPreview(){this.stopLoading(),this.showDefaultPreview$.next(!0)}openInNewWindow(){window.open(window.location.href,"_blank")}getIframeSrc(){return new Promise((t,e)=>{let i=this.getSrc();-1===i.indexOf("shareable_link")?this.http.post(`uploads/${this.file.id}/add-preview-token`).subscribe(e=>{i+="?preview_token="+e.preview_token,t(this.getGoogleDocsUrl(i))},()=>e):t(this.getGoogleDocsUrl(i))})}getGoogleDocsUrl(t){return t=Object(C.a)(t)?t:this.settings.getBaseUrl()+t,"https://docs.google.com/gview?embedded=true&url="+encodeURIComponent(t)}}return t.\u0275fac=function(e){return U(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["google-docs-viewer"]],viewQuery:function(t,e){var i;1&t&&n.Rc(k,!0),2&t&&n.vc(i=n.cc())&&(e.iframe=i.first)},features:[n.yb],decls:6,vars:7,consts:[[4,"ngIf","ngIfElse"],["defaultPreview",""],[1,"overlay",3,"isVisible"],[1,"preview-object"],["iframe",""],[1,"pop-out-block",3,"click"]],template:function(t,e){if(1&t&&(n.Ic(0,O,4,0,"ng-container",0),n.gc(1,"async"),n.Ic(2,P,1,0,"ng-template",null,1,n.Jc),n.Pb(4,"loading-indicator",2),n.gc(5,"async")),2&t){const t=n.wc(3);n.nc("ngIf",!n.hc(1,3,e.showDefaultPreview$))("ngIfElse",t),n.Bb(4),n.nc("isVisible",n.hc(5,5,e.loading$))}},directives:[o.t,I.a,r.a],pipes:[o.b],styles:["[_nghost-%COMP%]{display:block;margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%]{border:none}loading-indicator.overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:transparent}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}.pop-out-block[_ngcontent-%COMP%]{width:40px;height:40px;position:absolute;top:12px;right:12px;cursor:pointer}"],changeDetection:0}),t})();const U=n.Wb(T),M=new n.r("AVAILABLE_PREVIEWS");let S=(()=>{class t{constructor(){this.text=h,this.video=f,this.audio=b,this.image=w,this.pdf=x,this.spreadsheet=T,this.powerPoint=T,this.word=T}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac}),t})()}}]);