function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"703J":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in _classCallCheck(this,t),this.type="custom",e)this[n]=e[n]}},"7T94":function(t,e,n){"use strict";n.d(e,"a",(function(){return M}));var r=n("cuTO"),i=n("0IaG"),o=n("h586"),a=n("LRne"),c=n("3E0/"),s=n("IzEk"),l=n("fXoL"),u=n("X3Ra"),d=n("ofXK"),b=n("bTqV"),h=n("NFeN"),f=n("3Pt+"),p=n("Rd8u"),v=n("KKQg"),m=n("rG4v"),g=n("83jf"),y=["textEditor"];function C(t,e){1&t&&(l.Ub(0,"span",20),l.Kc(1,"Update Canned Reply"),l.Tb())}function k(t,e){1&t&&(l.Ub(0,"span",20),l.Kc(1,"New Canned Reply"),l.Tb())}function w(t,e){if(1&t&&(l.Ub(0,"div",21),l.Kc(1),l.Tb()),2&t){var n=l.fc();l.Bb(1),l.Lc(n.errors.name)}}function O(t,e){if(1&t&&(l.Ub(0,"div",21),l.Kc(1),l.Tb()),2&t){var n=l.fc();l.Bb(1),l.Lc(n.errors.shared)}}function _(t,e){if(1&t&&(l.Ub(0,"div",21),l.Kc(1),l.Tb()),2&t){var n=l.fc();l.Bb(1),l.Lc(n.errors.body)}}function U(t,e){if(1&t&&(l.Ub(0,"div",21),l.Kc(1),l.Tb()),2&t){var n=l.fc();l.Bb(1),l.Lc(n.errors.uploads)}}function T(t,e){if(1&t){var n=l.Vb();l.Ub(0,"reply-attachment-list",22),l.bc("detached",(function(t){return l.zc(n),l.fc().removeAttachment(t)})),l.Tb()}if(2&t){var r=l.fc();l.nc("attachments",r.attachments)}}function x(t,e){1&t&&(l.Ub(0,"span",20),l.Kc(1,"Update"),l.Tb())}function I(t,e){1&t&&(l.Ub(0,"span",20),l.Kc(1,"Create"),l.Tb())}var M=function(){var t=function(){function t(e,n,i,o){var l=this;_classCallCheck(this,t),this.dialogRef=e,this.data=n,this.cannedReplies=i,this.uploadQueue=o,this.attachments=[],this.model=new r.a,this.errors={},Object(a.a)(null).pipe(Object(c.a)(0),Object(s.a)(1)).subscribe((function(){return l.hydrate()}))}return _createClass(t,[{key:"close",value:function(t){this.dialogRef.close(t),this.textEditor.destroyEditor()}},{key:"confirm",value:function(){var t=this,e=this.getPayload();(this.model.id?this.cannedReplies.update(this.model.id,e):this.cannedReplies.create(e)).subscribe((function(e){t.close(e.data)}),(function(e){return t.errors=e.errors}))}},{key:"getPayload",value:function(){return{name:this.model.name,body:this.textEditor.getContents(),shared:this.model.shared,uploads:this.attachments.map((function(t){return t.id}))}}},{key:"setContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.body&&this.textEditor.setContents(t.body),t.uploads&&(this.attachments=t.uploads.slice())}},{key:"hydrate",value:function(){this.data.contents&&this.setContents(this.data.contents),this.data.cannedReply&&(this.model=new r.a(this.data.cannedReply),this.setContents({body:this.model.body,uploads:this.model.uploads}))}},{key:"uploadFiles",value:function(t){var e=this;this.uploadQueue.start(t).subscribe((function(t){e.attachments=[].concat(_toConsumableArray(e.attachments),[t.fileEntry])}))}},{key:"removeAttachment",value:function(t){for(var e=0;e<this.attachments.length;e++)this.attachments[e].id===t.id&&this.attachments.splice(e,1)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Ob(i.h),l.Ob(i.a),l.Ob(u.a),l.Ob(o.a))},t.\u0275cmp=l.Ib({type:t,selectors:[["crupdate-canned-reply-modal"]],viewQuery:function(t,e){var n;1&t&&l.Gc(y,!0),2&t&&l.vc(n=l.cc())&&(e.textEditor=n.first)},features:[l.Ab([o.a])],decls:37,vars:14,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf"],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[1,"many-inputs"],[1,"input-container"],["for","canned-reply-name","trans",""],["type","text","id","canned-reply-name","name","canned-reply-name",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["for","shared","trans",""],["id","shared","name","shared",3,"ngModel","ngModelChange"],["trans","",3,"ngValue"],["for","canned-body","trans",""],["id","canned-body","inlineUploadPrefix","ticket_images",3,"minHeight","onFileUpload"],["textEditor",""],[3,"attachments","detached",4,"ngIf"],["mat-button","","type","button","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"submit-button"],["trans",""],[1,"error"],[3,"attachments","detached"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"h2",1),l.Ic(2,C,2,0,"span",2),l.Ic(3,k,2,0,"span",2),l.Tb(),l.Ub(4,"button",3),l.bc("click",(function(){return e.close()})),l.Pb(5,"mat-icon",4),l.Tb(),l.Tb(),l.Ub(6,"form",5),l.bc("ngSubmit",(function(){return e.confirm()})),l.Ub(7,"mat-dialog-content",6),l.Ub(8,"div",7),l.Ub(9,"label",8),l.Kc(10,"Name"),l.Tb(),l.Ub(11,"input",9),l.bc("ngModelChange",(function(t){return e.model.name=t})),l.Tb(),l.Ic(12,w,2,1,"div",10),l.Tb(),l.Ub(13,"div",7),l.Ub(14,"label",11),l.Kc(15,"Shared"),l.Tb(),l.Ub(16,"select",12),l.bc("ngModelChange",(function(t){return e.model.shared=t})),l.Ub(17,"option",13),l.Kc(18,"Yes"),l.Tb(),l.Ub(19,"option",13),l.Kc(20,"No"),l.Tb(),l.Tb(),l.Ic(21,O,2,1,"div",10),l.Tb(),l.Ub(22,"div",7),l.Ub(23,"label",14),l.Kc(24,"Canned Reply Body"),l.Tb(),l.Ub(25,"text-editor",15,16),l.bc("onFileUpload",(function(t){return e.uploadFiles(t)})),l.Tb(),l.Pb(27,"upload-progress-bar"),l.Ic(28,_,2,1,"div",10),l.Ic(29,U,2,1,"div",10),l.Ic(30,T,1,1,"reply-attachment-list",17),l.Tb(),l.Tb(),l.Ub(31,"mat-dialog-actions"),l.Ub(32,"button",18),l.bc("click",(function(){return e.close()})),l.Kc(33,"Cancel"),l.Tb(),l.Ub(34,"button",19),l.Ic(35,x,2,0,"span",2),l.Ic(36,I,2,0,"span",2),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Bb(2),l.nc("ngIf",e.model.id),l.Bb(1),l.nc("ngIf",!e.model.id),l.Bb(8),l.nc("ngModel",e.model.name),l.Bb(1),l.nc("ngIf",e.errors.name),l.Bb(4),l.nc("ngModel",e.model.shared),l.Bb(1),l.nc("ngValue",!0),l.Bb(2),l.nc("ngValue",!1),l.Bb(2),l.nc("ngIf",e.errors.shared),l.Bb(4),l.nc("minHeight",300),l.Bb(3),l.nc("ngIf",e.errors.body),l.Bb(1),l.nc("ngIf",e.errors.uploads),l.Bb(1),l.nc("ngIf",e.attachments.length),l.Bb(5),l.nc("ngIf",e.model.id),l.Bb(1),l.nc("ngIf",!e.model.id))},directives:[i.i,d.t,b.b,h.a,f.v,f.w,i.f,p.a,f.d,f.u,f.x,f.G,f.z,f.J,v.a,m.a,i.c,g.a],styles:[".crupdate-canned-reply-modal-container{width:580px}.crupdate-canned-reply-modal-container reply-attachment-list{margin-top:25px}"],encapsulation:2}),t}()},"8RV8":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n("0IaG"),i=n("3Pt+"),o=n("Kj3r"),a=n("/uUt"),c=n("eIep"),s=n("JIr8"),l=n("2Vo4"),u=n("LRne"),d=n("fXoL"),b=n("mWN8"),h=n("Rd8u"),f=n("NFeN"),p=n("FBzJ"),v=n("ofXK");function m(t,e){if(1&t){var n=d.Vb();d.Ub(0,"div",9),d.bc("click",(function(){d.zc(n);var t=e.$implicit;return d.fc().close(t)})),d.Pb(1,"img",10),d.Ub(2,"div",11),d.Ub(3,"div",12),d.Kc(4),d.Tb(),d.Ub(5,"div",13),d.Kc(6),d.Tb(),d.Tb(),d.Tb()}if(2&t){var r=e.$implicit;d.Bb(1),d.nc("src",r.avatar,d.Cc),d.Bb(3),d.Lc(r.display_name),d.Bb(2),d.Lc(r.email)}}var g=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this.dialogRef=e,this.data=n,this.users=r,this.searchFormControl=new i.i,this.loading$=new l.a(!1),this.users$=new l.a([])}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.searchFormControl.valueChanges.pipe(Object(o.a)(250),Object(a.a)(),Object(c.a)((function(e){return t.searchUsers(e)})),Object(s.a)((function(){return Object(u.a)([])}))).subscribe((function(e){t.users$.next(e),t.loading$.next(!1)}))}},{key:"searchUsers",value:function(t){return this.loading$.next(!0),t?this.users.getAll({query:t}):Object(u.a)([])}},{key:"close",value:function(t){this.dialogRef.close(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d.Ob(r.h),d.Ob(r.a),d.Ob(b.a))},t.\u0275cmp=d.Ib({type:t,selectors:[["find-user-modal"]],decls:13,vars:7,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","tabindex","-1",1,"no-style","close-button",3,"click"],["svgIcon","close"],[1,"input-container","search-input-container"],["type","text","placeholder","Search for user by name or email...",3,"formControl"],[1,"small",3,"isVisible"],[1,"users"],["class","user",3,"click",4,"ngFor","ngForOf"],[1,"user",3,"click"],[3,"src"],[1,"meta","overflow-hidden"],[1,"name","overflow-hidden"],[1,"email","overflow-hidden"]],template:function(t,e){1&t&&(d.Ub(0,"div",0),d.Ub(1,"h2",1),d.Kc(2,"Find User"),d.Tb(),d.Ub(3,"button",2),d.bc("click",(function(){return e.close()})),d.Pb(4,"mat-icon",3),d.Tb(),d.Tb(),d.Ub(5,"mat-dialog-content"),d.Ub(6,"div",4),d.Pb(7,"input",5),d.Pb(8,"loading-indicator",6),d.gc(9,"async"),d.Tb(),d.Ub(10,"div",7),d.Ic(11,m,7,3,"div",8),d.gc(12,"async"),d.Tb(),d.Tb()),2&t&&(d.Bb(7),d.nc("formControl",e.searchFormControl),d.Bb(1),d.nc("isVisible",d.hc(9,3,e.loading$)),d.Bb(3),d.nc("ngForOf",d.hc(12,5,e.users$)))},directives:[r.i,h.a,f.a,r.f,i.d,i.u,i.j,p.a,v.s],pipes:[v.b],styles:["[_nghost-%COMP%]{display:block;width:500px;max-width:100%}.modal-header[_ngcontent-%COMP%]{margin-bottom:15px}.search-input-container[_ngcontent-%COMP%]{width:100%;margin-bottom:30px;position:relative}loading-indicator[_ngcontent-%COMP%]{top:12px;right:12px}.users[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.user[_ngcontent-%COMP%]{display:flex;width:calc(50% - 10px);flex-shrink:0;min-width:0;margin-bottom:20px;cursor:pointer}.user[_ngcontent-%COMP%]:hover{color:var(--be-accent-default)}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;flex-shrink:0;margin-right:10px;border-radius:4px;overflow:hidden}.user[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:var(--be-text);font-size:1.5rem;margin-bottom:5px}.user[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),t}()},DzUk:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("fXoL"),i=n("Lm4C"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.el=e,this.config={},this.filesSelected=new r.n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.el.nativeElement.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),Object(i.a)(t.config).then((function(e){e&&e.length&&t.filesSelected.emit(e)}))}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","uploadButton",""]],inputs:{config:["uploadButton","config"]},outputs:{filesSelected:"filesSelected"}}),t}()},IgbF:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("fXoL"),i=n("sPnx"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e,this.baseUri="tags"}return _createClass(t,[{key:"getTags",value:function(t){return this.http.getWithCache(this.baseUri,t)}},{key:"createNew",value:function(t){return this.http.post(this.baseUri,t)}},{key:"update",value:function(t,e){return this.http.put(this.baseUri+"/"+t,e)}},{key:"deleteMultiple",value:function(t){return this.http.delete(this.baseUri+"/delete-multiple",{ids:t})}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=Object.assign({query:t,notType:"status",perPage:10},e),this.http.get(this.baseUri,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Yb(i.a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},Um6Z:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n("pLZG"),i=n("FtGj"),o=n("WAq7"),a=n("fXoL"),c=n("2hX1"),s=n("u47x"),l=n("ofXK"),u=n("NFeN"),d=["columnName"],b=["table-sort-header",""],h=["*"],f=function(){var t=function(){function t(e,n,r,i){_classCallCheck(this,t),this.datable=e,this.cd=n,this.focusMonitor=r,this.el=i,this.orderDir=null,this.arrowVisible=!1,this.arrowDirection="down"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.orderBy||(this.orderBy=Object(o.a)(this.columnName.nativeElement.textContent,"_")),this.sortSub=this.datable.sort$.pipe(Object(r.a)((function(e){return e.orderBy!==t.orderBy}))).subscribe((function(){t.orderDir=null,t.onMouseLeave(),t.cd.markForCheck()}))}},{key:"ngAfterViewInit",value:function(){this.focusMonitor.monitor(this.el).subscribe()}},{key:"ngOnDestroy",value:function(){this.sortSub.unsubscribe(),this.focusMonitor.stopMonitoring(this.el)}},{key:"changeSort",value:function(){this.datable.sort$.next({orderBy:this.orderBy,orderDir:this.getDirection(this.orderDir)})}},{key:"getDirection",value:function(t){switch(t){case"asc":return this.arrowVisible=!1,this.orderDir=null;case"desc":return this.arrowVisible=!0,this.arrowDirection="up",this.orderDir="asc";default:return this.arrowVisible=!0,this.arrowDirection="down",this.orderDir="desc"}}},{key:"onMouseEnter",value:function(){var t;(null===(t=this.datable.config)||void 0===t?void 0:t.disableSort)||(this.arrowVisible=!0)}},{key:"onMouseLeave",value:function(){this.arrowVisible=!1,this.orderDir||(this.arrowDirection="down")}},{key:"handleClick",value:function(){var t;(null===(t=this.datable.config)||void 0===t?void 0:t.disableSort)||this.changeSort()}},{key:"handleKeydown",value:function(t){var e;(null===(e=this.datable.config)||void 0===e?void 0:e.disableSort)||t.keyCode!==i.v&&t.keyCode!==i.h||(t.preventDefault(),this.changeSort())}},{key:"sortDisabled",get:function(){var t;return null===(t=this.datable.config)||void 0===t?void 0:t.disableSort}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Ob(c.a),a.Ob(a.h),a.Ob(s.h),a.Ob(a.l))},t.\u0275cmp=a.Ib({type:t,selectors:[["","table-sort-header",""]],viewQuery:function(t,e){var n;1&t&&a.Gc(d,!0),2&t&&a.vc(n=a.cc())&&(e.columnName=n.first)},hostAttrs:["tabindex","0"],hostVars:4,hostBindings:function(t,e){1&t&&a.bc("click",(function(){return e.handleClick()}))("keydown",(function(t){return e.handleKeydown(t)}))("mouseenter",(function(){return e.onMouseEnter()}))("mouseleave",(function(){return e.onMouseLeave()})),2&t&&a.Fb("active",e.orderDir)("sort-disabled",e.sortDisabled)},inputs:{orderBy:["table-sort-header","orderBy"]},attrs:b,ngContentSelectors:h,decls:5,vars:3,consts:[[1,"text"],["columnName",""],[1,"icon-wrapper",3,"ngClass"],["svgIcon","arrow-downward",1,"sort-icon"]],template:function(t,e){1&t&&(a.mc(),a.Ub(0,"span",0,1),a.lc(2),a.Tb(),a.Ub(3,"span",2),a.Pb(4,"mat-icon",3),a.Tb()),2&t&&(a.Bb(3),a.nc("ngClass",e.arrowDirection),a.Bb(1),a.Fb("hint-visible",e.arrowVisible))},directives:[l.q,u.a],styles:["[_nghost-%COMP%]{outline:none}[_nghost-%COMP%]:not(.sort-disabled){cursor:pointer}.active[_nghost-%COMP%]   .sort-icon[_ngcontent-%COMP%]{color:var(--be-text);opacity:1;transform:translate(0)}.cdk-keyboard-focused[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{border-bottom:1px solid}.text[_ngcontent-%COMP%]{display:inline-block}.sort-icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{vertical-align:middle}.sort-icon[_ngcontent-%COMP%]{width:15px;height:15px;transition:all 225ms cubic-bezier(.4,0,.2,1);transform:translateY(25%);opacity:0}.icon-wrapper[_ngcontent-%COMP%]{display:inline-block;margin-left:4px;transition:transform 225ms cubic-bezier(.4,0,.2,1)}.icon-wrapper[_ngcontent-%COMP%]:not(.down){transform:rotate(180deg)}.hint-visible[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}"],changeDetection:0}),t}()},X3Ra:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("fXoL"),i=n("LRXf"),o=function(){var t=function(){function t(e){_classCallCheck(this,t),this.httpClient=e}return _createClass(t,[{key:"getReplies",value:function(t){return this.httpClient.get("canned-replies",t)}},{key:"create",value:function(t){return this.httpClient.post("canned-replies",t)}},{key:"update",value:function(t,e){return this.httpClient.put("canned-replies/"+t,e)}},{key:"delete",value:function(t){return this.httpClient.delete("canned-replies",{ids:t})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Yb(i.a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},cuTO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in _classCallCheck(this,t),this.shared=!1,e)this[n]=e[n]}}}]);