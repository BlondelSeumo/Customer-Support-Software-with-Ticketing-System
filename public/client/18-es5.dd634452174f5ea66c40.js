function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"CT6/":function(t,e,n){"use strict";n.r(e),n.d(e,"CustomerMailboxModule",(function(){return Rt}));var i=n("ofXK"),a=n("3Pt+"),r=n("tyNb"),c=n("2hX1"),o=n("fXoL"),s=n("twBr"),l=n("Rd8u"),u=n("bTqV"),b=n("bmro"),d=n("Um6Z"),g=n("FBzJ"),p=n("A5z7"),h=n("CH4Q"),f=n("rcZy"),m=n("iB19");function v(t,e){if(1&t&&(o.Ub(0,"mat-chip-list",32),o.Ub(1,"mat-chip",33),o.Kc(2),o.Tb(),o.Tb()),2&t){var n=e.ngIf,i=o.fc().$implicit;o.nc("selectable",!1),o.Bb(1),o.nc("color",i.closed_at?"standard":"success"),o.Bb(1),o.Lc(n.display_name)}}function y(t,e){if(1&t){var n=o.Vb();o.Ub(0,"tr",25),o.bc("click",(function(){o.zc(n);var t=e.$implicit;return o.fc().openConversation(t)})),o.Ub(1,"td",26),o.Kc(2),o.Tb(),o.Ub(3,"td",27),o.Kc(4),o.Tb(),o.Ub(5,"td",28),o.Kc(6),o.gc(7,"formattedDate"),o.Tb(),o.Ub(8,"td",29),o.Kc(9),o.Tb(),o.Ub(10,"td",30),o.Ic(11,v,3,3,"mat-chip-list",31),o.Tb(),o.Tb()}if(2&t){var i=e.$implicit,a=o.fc();o.Fb("open",!i.closed_at),o.Bb(2),o.Lc(i.subject),o.Bb(2),o.Mc("#",i.id,""),o.Bb(2),o.Lc(o.hc(7,7,i.created_at)),o.Bb(3),o.Lc(i.updated_at_formatted),o.Bb(2),o.nc("ngIf",a.getStatus(i))}}function k(t,e){1&t&&(o.Ub(0,"no-results-message",34),o.Ub(1,"span",35),o.Kc(2,"You have not created any tickets yet."),o.Tb(),o.Tb())}function w(t,e){1&t&&o.Pb(0,"datatable-footer",36),2&t&&o.nc("hidePerPage",!0)}var x,C=((x=function(){function t(e,n,i,r){_classCallCheck(this,t),this.currentUser=e,this.router=n,this.route=i,this.datatable=r,this.tickets$=this.datatable.data$,this.statusFormControl=new a.i(this.route.snapshot.queryParams.status||"")}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.datatable.init({uri:"tickets",staticParams:{userId:this.currentUser.get("id")}}),this.statusFormControl.valueChanges.subscribe((function(e){t.datatable.addFilter("tagId",e)}))}},{key:"ngOnDestroy",value:function(){this.datatable.destroy()}},{key:"getStatus",value:function(t){return t.tags.filter((function(t){return"status"===t.type}))[0]}},{key:"openConversation",value:function(t){this.router.navigate(["/help-center/tickets",t.id])}}]),t}()).\u0275fac=function(t){return new(t||x)(o.Ob(s.a),o.Ob(r.f),o.Ob(r.a),o.Ob(c.a))},x.\u0275cmp=o.Ib({type:x,selectors:[["customer-tickets-list"]],features:[o.Ab([c.a])],decls:44,vars:13,consts:[[1,"container"],[1,"title"],["trans",""],["routerLink","/help-center/tickets/new","mat-raised-button","","color","accent","trans",""],[1,"filter-form"],[1,"input-container"],[1,"input-with-icon"],["placeholder","Search requests...",1,"icon-left"],[1,"input-container","status-input-container"],["for","customer-ticket-status","trans","",1,"hidden"],["id","customer-ticket-status",1,"filter-input",3,"formControl"],["value","","trans",""],["value","open","trans",""],["value","closed","trans",""],["value","pending","trans",""],[1,"material-table","responsive-table"],["trans","",1,"subject-column"],["table-sort-header","","trans","",1,"id-column"],["table-sort-header","created_at","trans","",1,"created-column"],["table-sort-header","updated_at","trans","",1,"last-updated-column"],["trans","",1,"status-column"],[3,"open","click",4,"ngFor","ngForOf"],["svgImage","opened.svg",4,"ngIf"],[3,"hidePerPage",4,"ngIf"],[1,"overlay",3,"isVisible"],[3,"click"],["data-label","Subject",1,"subject-column"],["data-label","ID",1,"id-column"],["data-label","Created",1,"created-column"],["data-label","Last Updated",1,"last-updated-column"],["data-label","Status",1,"status-column"],[3,"selectable",4,"ngIf"],[3,"selectable"],["selected","","trans","",3,"color"],["svgImage","opened.svg"],["primary-text",""],[3,"hidePerPage"]],template:function(t,e){if(1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"h1",2),o.Kc(3,"My requests"),o.Tb(),o.Ub(4,"a",3),o.Kc(5,"New Request"),o.Tb(),o.Tb(),o.Ub(6,"form",4),o.Ub(7,"div",5),o.Ub(8,"div",6),o.Pb(9,"datatable-header-search-input",7),o.Tb(),o.Tb(),o.Ub(10,"div",8),o.Ub(11,"label",9),o.Kc(12,"Status"),o.Tb(),o.Ub(13,"select",10),o.Ub(14,"option",11),o.Kc(15,"All Requests"),o.Tb(),o.Ub(16,"option",12),o.Kc(17,"Open Requests"),o.Tb(),o.Ub(18,"option",13),o.Kc(19,"Closed Requests"),o.Tb(),o.Ub(20,"option",14),o.Kc(21,"Awaiting your reply"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(22,"table",15),o.Ub(23,"thead"),o.Ub(24,"tr"),o.Ub(25,"th",16),o.Kc(26,"Subject"),o.Tb(),o.Ub(27,"th",17),o.Kc(28,"ID"),o.Tb(),o.Ub(29,"th",18),o.Kc(30,"Created"),o.Tb(),o.Ub(31,"th",19),o.Kc(32,"Last Updated"),o.Tb(),o.Ub(33,"th",20),o.Kc(34,"Status"),o.Tb(),o.Tb(),o.Tb(),o.Ub(35,"tbody"),o.Ic(36,y,12,9,"tr",21),o.gc(37,"async"),o.Tb(),o.Tb(),o.Ic(38,k,3,0,"no-results-message",22),o.gc(39,"async"),o.Ic(40,w,1,1,"datatable-footer",23),o.gc(41,"async"),o.Tb(),o.Pb(42,"loading-indicator",24),o.gc(43,"async")),2&t){var n,i=(null==(n=o.hc(41,9,e.datatable.paginator.response$))?null:n.pagination.total)>15;o.Bb(13),o.nc("formControl",e.statusFormControl),o.Bb(23),o.nc("ngForOf",o.hc(37,5,e.tickets$)),o.Bb(2),o.nc("ngIf",o.hc(39,7,e.datatable.paginator.noResults$)),o.Bb(2),o.nc("ngIf",i),o.Bb(2),o.nc("isVisible",o.hc(43,11,e.datatable.paginator.loading$))}},directives:[l.a,r.i,u.a,a.K,a.v,a.w,b.a,a.G,a.u,a.j,a.z,a.J,d.a,i.s,i.t,g.a,p.d,p.a,h.a,f.a],pipes:[i.b,m.a],styles:["[_nghost-%COMP%]{display:block;width:100%;padding:30px 0 50px}.title[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:30px;padding:0 20px}.title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.2rem;font-weight:400;margin:0}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:auto;height:36px}.filter-form[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:35px;padding:0 10px}.status-input-container[_ngcontent-%COMP%]{max-width:200px;margin-left:15px}datatable-header-search-input[_ngcontent-%COMP%]     input{height:50px;padding-left:40px}table[_ngcontent-%COMP%]{table-layout:fixed}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:60px;cursor:pointer}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--be-accent-emphasis)}.subject-column[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:25px}.id-column[_ngcontent-%COMP%], .status-column[_ngcontent-%COMP%]{width:110px}.created-column[_ngcontent-%COMP%], .last-updated-column[_ngcontent-%COMP%]{width:160px}.mat-chip[_ngcontent-%COMP%]{min-width:63px;justify-content:center;text-transform:capitalize}.mat-chip.mat-success[_ngcontent-%COMP%]{background-color:#43a047;color:#fff}.no-results-message[_ngcontent-%COMP%]{margin-top:60px;margin-bottom:60px}"]}),x),T=n("LsVx"),O=n("KKQg"),I=n("h586"),U=n("2Vo4"),_=n("jtHE"),P=n("nYR2"),M=n("kmQS"),B=n("oVOl"),L=n("74SX"),K=n("i2dy"),A=n("S5uz"),j=n("Kj3r"),S=n("/uUt"),$=n("eIep"),F=n("JIr8"),V=n("LRne"),z=n("KHvZ"),R=n("NFeN"),q=n("YdAL");function Q(t,e){if(1&t){var n=o.Vb();o.Ub(0,"a",8),o.bc("click",(function(){return o.zc(n),o.fc().updateSearchLogger()})),o.Pb(1,"mat-icon",9),o.Ub(2,"span",10),o.Kc(3),o.Tb(),o.Tb()}if(2&t){var i=e.$implicit,a=o.fc();o.nc("routerLink",a.urls.article(i)),o.Bb(3),o.Lc(i.title)}}var N,D=((N=function(){function t(e,n,i){_classCallCheck(this,t),this.helpCenter=e,this.urls=n,this.searchLogger=i,this.inputValue=new o.n,this.searchQuery=new a.i,this.articles=[],this.searching=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.searchQuery.valueChanges.pipe(Object(j.a)(400),Object(S.a)(),Object($.a)((function(e){return t.searchArticles(e)})),Object(F.a)((function(){return Object(V.a)({pagination:{data:[]}})}))).subscribe((function(e){t.inputValue.emit(t.searchQuery.value),t.searching=!1,t.setSearchResults(e.pagination.data)}))}},{key:"searchArticles",value:function(t){return t?(this.searching=!0,this.helpCenter.findArticles({query:t,perPage:4,categories:this.categories})):Object(V.a)({pagination:{data:[]}})}},{key:"setSearchResults",value:function(t){var e=this;t&&t.length?this.articles=t:setTimeout((function(){e.articles=[]}),300)}},{key:"updateSearchLogger",value:function(){this.searchLogger.updateSession({clickedArticle:!0})}}]),t}()).\u0275fac=function(t){return new(t||N)(o.Ob(z.a),o.Ob(L.a),o.Ob(A.a))},N.\u0275cmp=o.Ib({type:N,selectors:[["suggested-articles-drawer"]],inputs:{placeholder:"placeholder",categories:"categories"},outputs:{inputValue:"inputValue"},decls:9,vars:7,consts:[[1,"suggestions-container"],[1,"input-container"],["type","text",1,"search-input",3,"formControl"],["svgIcon","search",1,"search-icon","input-icon"],[1,"results-container"],["trans","",1,"results-header"],["customScrollbar","",1,"results"],["class","result","target","_blank",3,"routerLink","click",4,"ngFor","ngForOf"],["target","_blank",1,"result",3,"routerLink","click"],["svgIcon","description"],[1,"title"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Pb(2,"input",2),o.Pb(3,"mat-icon",3),o.Tb(),o.Ub(4,"section",4),o.Ub(5,"div",5),o.Kc(6,"Were you looking for:"),o.Tb(),o.Ub(7,"div",6),o.Ic(8,Q,4,2,"a",7),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Fb("has-results",e.articles.length),o.Bb(2),o.nc("formControl",e.searchQuery),o.Cb("placeholder",e.placeholder),o.Bb(1),o.Fb("searching",e.searching),o.Bb(5),o.nc("ngForOf",e.articles))},directives:[a.d,a.u,a.j,R.a,l.a,q.a,i.s,r.i],styles:["suggested-articles-drawer{display:block}suggested-articles-drawer .results-container{max-height:0;transition:all .3s ease-out;margin:0;overflow:hidden}suggested-articles-drawer .results-container>.results-header{font-size:2.1rem;font-weight:300;margin-bottom:20px}suggested-articles-drawer .results-container>.results>.result{display:flex;align-items:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-bottom:12px;width:100%;color:var(--be-link);cursor:pointer}suggested-articles-drawer .results-container>.results>.result:hover{text-decoration:underline}suggested-articles-drawer .results-container>.results>.result>mat-icon{margin-right:10px}suggested-articles-drawer .results-container>.results>.result>.title{color:inherit}suggested-articles-drawer .suggestions-container .input-container{position:relative;width:100%}suggested-articles-drawer .suggestions-container .input-container>.input-icon{position:absolute;visibility:hidden;top:13px;right:11px;color:var(--be-secondary-text)}suggested-articles-drawer .suggestions-container .input-container>.input-icon.searching{visibility:visible;-webkit-animation:flickerAnimation .5s infinite;animation:flickerAnimation .5s infinite}@-webkit-keyframes flickerAnimation{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@keyframes flickerAnimation{0%{opacity:1}50%{opacity:.4}to{opacity:1}}suggested-articles-drawer .suggestions-container.has-results .results-container{max-height:230px;margin:20px 0;transition:all .3s ease-in}"],encapsulation:2}),N),X=n("rG4v"),H=n("83jf");function E(t,e){if(1&t&&(o.Ub(0,"option",26),o.Kc(1),o.Tb()),2&t){var n=e.$implicit;o.nc("ngValue",n),o.Bb(1),o.Lc(n.display_name||n.name)}}function J(t,e){if(1&t&&(o.Ub(0,"div",27),o.Kc(1),o.Tb()),2&t){var n=o.fc().ngIf;o.Bb(1),o.Lc(n.category||n.purchase_code)}}function W(t,e){if(1&t&&(o.Ub(0,"div",28),o.Kc(1),o.Tb()),2&t){var n=o.fc().ngIf;o.Bb(1),o.Lc(n.subject)}}function Y(t,e){if(1&t&&(o.Ub(0,"div",29),o.Kc(1),o.Tb()),2&t){var n=o.fc().ngIf;o.Bb(1),o.Lc(n.body)}}function G(t,e){if(1&t){var n=o.Vb();o.Ub(0,"form",8),o.bc("ngSubmit",(function(){return o.zc(n),o.fc(2).createTicket()})),o.Ub(1,"h1",9),o.Kc(2),o.Tb(),o.Ub(3,"div",10),o.Ub(4,"label",11),o.Kc(5),o.Tb(),o.Ub(6,"select",12),o.bc("ngModelChange",(function(t){return o.zc(n),o.fc(2).ticketModel.category=t})),o.Ic(7,E,2,2,"option",13),o.Tb(),o.Ic(8,J,2,1,"div",14),o.Tb(),o.Ub(9,"div",15),o.Ub(10,"label",16),o.Kc(11),o.Tb(),o.Ub(12,"suggested-articles-drawer",17),o.bc("inputValue",(function(t){return o.zc(n),o.fc(2).ticketModel.subject=t})),o.Tb(),o.Ic(13,W,2,1,"div",18),o.Tb(),o.Ub(14,"div",19),o.Ub(15,"label",20),o.Kc(16),o.Tb(),o.Ub(17,"text-editor",21),o.bc("onFileUpload",(function(t){return o.zc(n),o.fc(2).uploadFiles(t)}))("onChange",(function(t){return o.zc(n),o.fc(2).ticketModel.body=t})),o.Tb(),o.Pb(18,"upload-progress-bar"),o.Ic(19,Y,2,1,"div",22),o.Tb(),o.Ub(20,"reply-attachment-list",23),o.bc("detached",(function(t){return o.zc(n),o.fc(2).removeAttachment(t)})),o.gc(21,"async"),o.Tb(),o.Ub(22,"div",24),o.Ub(23,"button",25),o.Kc(24),o.Tb(),o.Tb(),o.Tb()}if(2&t){var i=e.ngIf,a=o.fc().ngIf,r=o.fc();o.Bb(2),o.Lc(a.title),o.Bb(3),o.Lc(a.categoryLabel),o.Bb(1),o.nc("ngModel",r.ticketModel.category),o.Bb(1),o.nc("ngForOf",r.ticketCategories),o.Bb(1),o.nc("ngIf",i.category||i.purchase_code),o.Bb(3),o.Lc(a.subjectLabel),o.Bb(1),o.nc("categories",r.getArticleCategories()),o.Bb(1),o.nc("ngIf",i.subject),o.Bb(3),o.Lc(a.descriptionLabel),o.Bb(1),o.nc("minHeight",230),o.Bb(2),o.nc("ngIf",i.body),o.Bb(1),o.nc("attachments",o.hc(21,13,r.attachments$)),o.Bb(4),o.Lc(a.submitButtonText)}}function Z(t,e){if(1&t&&(o.Ub(0,"div",30),o.Ub(1,"div",31),o.Kc(2),o.Tb(),o.Ub(3,"div",32),o.Kc(4),o.Tb(),o.Tb()),2&t){var n=e.$implicit;o.Bb(2),o.Lc(n.title),o.Bb(2),o.Lc(n.content)}}function tt(t,e){if(1&t&&(o.Sb(0),o.Ub(1,"div",2),o.Ic(2,G,25,15,"form",3),o.gc(3,"async"),o.Tb(),o.Ub(4,"div",4),o.Ub(5,"div",5),o.Kc(6),o.Tb(),o.Ub(7,"div",6),o.Ic(8,Z,5,2,"div",7),o.Tb(),o.Tb(),o.Rb()),2&t){var n=e.ngIf,i=o.fc();o.Bb(2),o.nc("ngIf",o.hc(3,3,i.errors$)),o.Bb(4),o.Lc(n.sidebarTitle),o.Bb(2),o.nc("ngForOf",n.sidebarTips)}}var et,nt=((et=function(){function t(e,n,i,a,r,c,o,s,l){var u=this;_classCallCheck(this,t),this.settings=e,this.tickets=n,this.uploads=i,this.router=a,this.urls=r,this.route=c,this.toast=o,this.uploadQueue=s,this.searchLogger=l,this.errors$=new U.a({}),this.loading$=new U.a(!1),this.attachments$=new U.a([]),this.ticketCategories=[],this.ticketModel={},this.content$=new _.a(1),this.settings.all$().subscribe((function(){u.content$.next(u.settings.getJson("hc.newTicket.appearance",{}))}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.data.subscribe((function(e){t.ticketCategories=e.categories,t.ticketModel.category=t.ticketCategories[0]}))}},{key:"ngOnDestroy",value:function(){this.textEditor.destroyEditor()}},{key:"createTicket",value:function(){var t=this;this.loading$.next(!0);var e={subject:this.ticketModel.subject,body:this.ticketModel.body,category:this.ticketModel.category&&this.ticketModel.category.id,uploads:this.uploadQueue.getAllCompleted().map((function(t){return t.id}))};this.tickets.create(e).pipe(Object(P.a)((function(){t.loading$.next(!1)}))).subscribe((function(){t.searchLogger.updateSessionAndStore({createdTicket:!0}),t.router.navigate(t.urls.customerTicketList()),t.toast.open("Your request was successfully submitted.")}),(function(e){t.errors$.next(e.errors)}))}},{key:"uploadFiles",value:function(t){var e=this;this.uploadQueue.start(t).subscribe((function(t){e.attachments$.next([].concat(_toConsumableArray(e.attachments$.value),[t.fileEntry]))}))}},{key:"removeAttachment",value:function(t){for(var e=this.attachments$.value.slice(),n=0;n<e.length;n++)e[n].id===t.id&&e.splice(n,1);this.attachments$.next(e)}},{key:"getArticleCategories",value:function(){return this.ticketModel.category?this.ticketModel.category.categories.map((function(t){return t.id})):[]}}]),t}()).\u0275fac=function(t){return new(t||et)(o.Ob(M.a),o.Ob(T.a),o.Ob(B.a),o.Ob(r.f),o.Ob(L.a),o.Ob(r.a),o.Ob(K.b),o.Ob(I.a),o.Ob(A.a))},et.\u0275cmp=o.Ib({type:et,selectors:[["new-ticket"]],viewQuery:function(t,e){var n;1&t&&o.Rc(O.a,!0),2&t&&o.vc(n=o.cc())&&(e.textEditor=n.first)},hostAttrs:["id","new-ticket"],features:[o.Ab([T.a,I.a])],decls:4,vars:6,consts:[[4,"ngIf"],[1,"overlay",3,"isVisible"],[1,"left-column"],["ngNativeValidate","",3,"ngSubmit",4,"ngIf"],[1,"right-column"],["trans","",1,"header"],[1,"tips"],["class","tip-container",4,"ngFor","ngForOf"],["ngNativeValidate","",3,"ngSubmit"],["trans",""],[1,"input-container","category-input-container"],["for","category-select","trans",""],["name","category","id","category-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["class","errors category-error",4,"ngIf"],[1,"input-container","subject-input-container"],["for","subject","trans",""],["id","subject","trans-placeholder","",3,"categories","inputValue"],["class","errors subject-error",4,"ngIf"],[1,"input-container","description-input-container"],["for","description","trans",""],["id","description","inlineUploadPrefix","ticket_images",3,"minHeight","onFileUpload","onChange"],["class","errors body-error",4,"ngIf"],[3,"attachments","detached"],[1,"buttons"],["mat-raised-button","","color","accent","type","submit",1,"submit-button"],[3,"ngValue"],[1,"errors","category-error"],[1,"errors","subject-error"],[1,"errors","body-error"],[1,"tip-container"],["trans","",1,"title"],["trans","",1,"content"]],template:function(t,e){1&t&&(o.Ic(0,tt,9,5,"ng-container",0),o.gc(1,"async"),o.Pb(2,"loading-indicator",1),o.gc(3,"async")),2&t&&(o.nc("ngIf",o.hc(1,2,e.content$)),o.Bb(2),o.nc("isVisible",o.hc(3,4,e.loading$)))},directives:[i.t,g.a,l.a,i.s,a.v,a.w,a.G,a.u,a.x,D,O.a,X.a,H.a,u.b,a.z,a.J],pipes:[i.b],styles:["new-ticket{display:flex;flex-wrap:wrap-reverse;width:100%;max-width:1800px;margin:0 auto;border-top:1px solid var(--be-divider-lighter)}new-ticket .left-column{flex:0 0 70%;padding:45px 20px}new-ticket .left-column form{margin:0 auto;width:660px}new-ticket .right-column{flex:0 0 30%;border-left:1px solid var(--be-divider-lighter);padding:45px 30px}new-ticket .right-column .header{font-size:2.1rem;color:var(--be-accent-default);font-weight:500;margin-bottom:35px}new-ticket .right-column .tip-container{margin-bottom:30px;font-size:1.6rem}new-ticket .right-column .tip-container .title{font-weight:400}new-ticket .right-column .tip-container .content{font-weight:300}new-ticket .input-container{margin-bottom:25px}new-ticket .input-container .input-container{margin-bottom:0}new-ticket .input-container input,new-ticket .input-container select{height:50px}new-ticket .input-container label{font-size:1.6rem;font-weight:300;margin-bottom:5px}new-ticket .errors{margin-top:7px;color:#f44336}new-ticket h1{margin:0 0 25px;color:var(--be-help-center-title-text);font-weight:300;font-size:4rem}new-ticket .buttons{margin-bottom:15px}@media only screen and (max-width:768px){new-ticket .left-column{flex:0 0 100%;padding-top:0;padding-bottom:0}new-ticket .left-column>form{width:auto}new-ticket .right-column{flex:0 0 100%;border-bottom:1px solid var(--be-divider-lighter);margin-bottom:10px;padding:20px 30px 0}}"],encapsulation:2,changeDetection:0}),et),it=n("N2vX"),at=n("XRKU"),rt=n("owyN"),ct=n("/R+w"),ot=["class","customer-mailbox"];function st(t,e){1&t&&o.Pb(0,"customer-footer")}var lt,ut=((lt=function t(e){_classCallCheck(this,t),this.settings=e}).\u0275fac=function(t){return new(t||lt)(o.Ob(M.a))},lt.\u0275cmp=o.Ib({type:lt,selectors:[["customer-mailbox",8,"customer-mailbox"]],attrs:ot,decls:5,vars:1,consts:[["menuPosition","header",1,"hc-content-navbar"],["placeholder","Search help center...",1,"nav-searchbar"],["resource","Tickets","resourceType","static",1,"container"],[4,"ngIf"]],template:function(t,e){1&t&&(o.Ub(0,"material-navbar",0),o.Pb(1,"suggested-articles-dropdown",1),o.Tb(),o.Pb(2,"breadcrumbs",2),o.Pb(3,"router-outlet"),o.Ic(4,st,1,0,"customer-footer",3)),2&t&&(o.Bb(4),o.nc("ngIf",!e.settings.get("hc.hide_footer")))},directives:[it.a,at.a,rt.a,r.k,i.t,ct.a],styles:["customer-mailbox{display:block;padding-top:70px}customer-mailbox breadcrumbs.container{margin:0 auto;padding:36px;font-size:1.6rem}customer-mailbox customer-conversation,customer-mailbox customer-tickets-list,customer-mailbox new-ticket{min-height:calc(100vh - 165px)}@media screen and (max-width:768px){customer-mailbox breadcrumbs{display:none}}"],encapsulation:2}),lt),bt=n("apsj"),dt=n("wWhK"),gt=n("wfim"),pt=n("pfRy"),ht=n("b7Mq"),ft=n("qH/R"),mt=n("3H9V"),vt=["scrollContainer"];function yt(t,e){if(1&t){var n=o.Vb();o.Ub(0,"div",5),o.Ub(1,"button",6),o.bc("click",(function(){return o.zc(n),o.fc().markAsSolved()})),o.Kc(2,"Mark as solved"),o.Tb(),o.Tb()}}var kt,wt,xt=((kt=function(){function t(e,n,i,a,r,c){_classCallCheck(this,t),this.route=e,this.uploads=n,this.currentUser=i,this.conversation=a,this.tickets=r,this.tags=c}return _createClass(t,[{key:"ngAfterViewInit",value:function(){this.conversation.scrollContainer=this.scrollContainer.nativeElement}},{key:"ngOnInit",value:function(){var t=this;this.route.data.subscribe((function(e){t.conversation.init(e.ticket)}))}},{key:"markAsSolved",value:function(){var t=this,e=this.tags.getTagByIdOrName("closed");this.tickets.changeTicketStatus(this.conversation.get().id,e.name).subscribe((function(){t.conversation.afterReplyAction.navigateToCustomerTicketsList("Ticket marked as solved."),t.conversation.setStatus(e)}))}}]),t}()).\u0275fac=function(t){return new(t||kt)(o.Ob(r.a),o.Ob(B.a),o.Ob(s.a),o.Ob(dt.a),o.Ob(T.a),o.Ob(gt.a))},kt.\u0275cmp=o.Ib({type:kt,selectors:[["customer-conversation"]],viewQuery:function(t,e){var n;1&t&&o.Rc(vt,!0),2&t&&o.vc(n=o.cc())&&(e.scrollContainer=n.first)},features:[o.Ab([bt.a])],decls:8,vars:3,consts:[[1,"container"],["class","resolve-btn-container",4,"ngIf"],["conversationInfiniteScroll","",1,"ticket-container",3,"scrollTargetIsDocument"],["scrollContainer",""],[1,"overlay",3,"isVisible"],[1,"resolve-btn-container"],["mat-raised-button","","color","accent","trans","",3,"click"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ic(1,yt,3,0,"div",1),o.Ub(2,"div",2,3),o.Pb(4,"conversation-header"),o.Pb(5,"conversation-text-editor"),o.Pb(6,"conversation-replies"),o.Tb(),o.Tb(),o.Pb(7,"loading-indicator",4)),2&t&&(o.Bb(1),o.nc("ngIf",!e.conversation.get().closed_at),o.Bb(1),o.nc("scrollTargetIsDocument",!0),o.Bb(5),o.nc("isVisible",e.conversation.replies.isLoading||e.conversation.isLoading))},directives:[i.t,pt.a,ht.a,ft.a,mt.a,g.a,u.b,l.a],styles:["[_nghost-%COMP%]{display:block;position:relative}.ticket-container[_ngcontent-%COMP%]{padding-bottom:50px}.resolve-btn-container[_ngcontent-%COMP%]{margin-bottom:40px;text-align:right}"]}),kt),Ct=n("Dbf7"),Tt=n("i70M"),Ot=n("0QyJ"),It=r.j.forChild([{path:"",component:ut,canActivate:[Ot.a],children:[{path:"",component:C},{path:"new",component:nt,resolve:{categories:Tt.a},data:{permissions:["tickets.create","tags.view"]}},{path:":id",component:xt,resolve:{ticket:Ct.a}}]}]),Ut=n("xqw2"),_t=n("DldP"),Pt=n("MK/P"),Mt=n("gFpt"),Bt=n("YHvm"),Lt=n("6rvT"),Kt=n("k3xQ"),At=n("X3pI"),jt=n("Iysn"),St=n("hD7E"),$t=n("JZOH"),Ft=n("V2vN"),Vt=n("GSRO"),zt=n("1ImS"),Rt=((wt=function t(){_classCallCheck(this,t)}).\u0275mod=o.Mb({type:wt}),wt.\u0275inj=o.Lb({factory:function(t){return new(t||wt)},imports:[[i.c,a.o,a.E,r.j,_t.a,Ut.a,Pt.a,Bt.a,Mt.a,Lt.a,At.a,jt.a,St.a,$t.a,Ft.a,Vt.a,zt.a,It,R.b,p.g,u.c,Kt.a]]}),wt)},bmro:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("3Pt+"),a=n("Kj3r"),r=n("/uUt"),c=n("fXoL"),o=n("2hX1"),s=n("tyNb"),l=n("ofXK"),u=n("NFeN"),b=n("zW5C");function d(t,e){1&t&&c.Pb(0,"mat-icon",3)}var g=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.datatable=e,this.route=n,this.searchControl=new i.i(this.route.snapshot.queryParams.query),this.hideIcon=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.searchControl.valueChanges.pipe(Object(a.a)(400),Object(r.a)()).subscribe((function(e){t.datatable.addFilter("query",e)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Ob(o.a),c.Ob(s.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["datatable-header-search-input"]],inputs:{placeholder:"placeholder",hideIcon:"hideIcon"},decls:4,vars:5,consts:[[1,"input-container","search-input-container"],["type","text",1,"search-input",3,"placeholder","formControl"],["svgIcon","search",4,"ngIf"],["svgIcon","search"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Pb(1,"input",1),c.gc(2,"trans"),c.Ic(3,d,1,0,"mat-icon",2),c.Tb()),2&t&&(c.Bb(1),c.nc("placeholder",c.hc(2,3,e.placeholder))("formControl",e.searchControl),c.Bb(2),c.nc("ngIf",!e.hideIcon))},directives:[i.d,i.u,i.j,l.t,u.a],pipes:[b.a],styles:[".input-container[_ngcontent-%COMP%]{min-width:250px;position:relative;flex-shrink:0}.input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 12px);right:5px;color:var(--be-secondary-text)}.icon-left[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%], .icon-left   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{left:10px;right:0}"],changeDetection:0}),t}()},iB19:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("fXoL"),a=n("ofXK"),r=n("kmQS"),c=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.settings=e,this._locale=n,this.format=this.settings.get("dates.format","yyyy-MM-dd"),this.angularPipe=new a.f(n)}return _createClass(t,[{key:"transform",value:function(t,e,n,i){return t=t&&"string"==typeof t?t.replace(/\//g,"-"):t,this.angularPipe.transform(t,e||this.format,n,i)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Ob(r.a),i.Ob(i.v))},t.\u0275pipe=i.Nb({name:"formattedDate",type:t,pure:!0}),t}()}}]);